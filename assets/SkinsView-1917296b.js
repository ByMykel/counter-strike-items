import{c as y,_ as c}from"./ItemsList.vue_vue_type_script_setup_true_lang-35d07b49.js";import{b as d,g as o,f as g,d as S,u as _,r as v,e as k,h as w,a as s,c as N,i as P,o as u}from"./index-0567b634.js";import{_ as x}from"./FiltersPanel.vue_vue_type_script_setup_true_lang-d25a6e52.js";class h{async query({search:n,filters:e}){let t=await d.get("https://raw.githubusercontent.com/ByMykel/CSGO-API/main/public/api/en/skins_not_grouped.json").then(m=>m.data.map(i=>({...i,rare:["sfui_invpanel_filter_melee","sfui_invpanel_filter_gloves"].includes(i.category.id)})));const p=[{prop:"rarity",name:"Rarity",type:"multi-select",options:o(t,{type:"fromNestedSingleProperty",property:"rarity"})},{prop:"pattern",name:"Pattern",type:"multi-select",options:o(t,{type:"fromNestedSingleProperty",property:"pattern"})},{prop:"team",name:"Team",type:"multi-select",options:o(t,{type:"fromNestedSingleProperty",property:"team"})},{prop:"weapon",name:"Weapon",type:"multi-select",options:o(t,{type:"fromNestedSingleProperty",property:"weapon"})},{prop:"wear",name:"Wear",type:"multi-select",options:o(t,{type:"fromNestedSingleProperty",property:"wear"})},{prop:"category",name:"Category",type:"multi-select",options:o(t,{type:"fromNestedSingleProperty",property:"category"})},{prop:"paint_index",name:"Paint index",type:"multi-select",options:o(t,{type:"fromProperty",property:"paint_index"})},{prop:"souvenir",name:"Souvenir",type:"multi-select",options:[{id:"true",name:"Yes"},{id:"false",name:"No"}]},{prop:"stattrak",name:"StatTrakâ„¢",type:"multi-select",options:[{id:"true",name:"Yes"},{id:"false",name:"No"}]}];return{items:g(t,n,e),filters:p}}}const C={class:"flex flex-row flex-1"},B=S({__name:"SkinsView",setup(f){const n=_(),e=y({query:new h().query})("skins")(),t=v(!1);function p(){n.deleteItem(),t.value=!0}function m(a){t.value=!1,n.getItemDetails(a)}function i({prop:a,value:r}){e.setFilters({prop:a,value:r}),e.fetch()}return(a,r)=>(u(),k("div",C,[w(c,{items:s(e).items,"items-count":s(e).itemsCount,loading:s(e).loading,search:s(e).search,"has-filters":s(e).filters.length>0,onSetQuery:r[0]||(r[0]=l=>s(e).setSearch(l)),onSelect:m,onLoadMore:r[1]||(r[1]=l=>s(e).loadMore()),onOpenFilters:r[2]||(r[2]=l=>p())},null,8,["items","items-count","loading","search","has-filters"]),t.value?(u(),N(x,{key:0,filters:s(e).filters,"filters-values":s(e).filtersValues,onSetFilters:i,onClose:r[3]||(r[3]=l=>t.value=!1)},null,8,["filters","filters-values"])):P("",!0)]))}});export{B as default};
