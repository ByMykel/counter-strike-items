import{c as f,_ as c}from"./ItemsList.vue_vue_type_script_setup_true_lang-461d09c1.js";import{b as d,g as o,f as g,d as S,u as _,r as v,e as k,h as N,a as s,c as P,i as w,o as y}from"./index-284445da.js";import{_ as x}from"./FiltersPanel.vue_vue_type_script_setup_true_lang-83bb7084.js";class C{async query({search:i,filters:t}){let e=await d.get("https://bymykel.github.io/CSGO-API/api/en/skins_not_grouped.json").then(m=>m.data.map(n=>({...n,rare:["sfui_invpanel_filter_melee","sfui_invpanel_filter_gloves"].includes(n.category.id)})));const l=[{prop:"rarity",name:"Rarity",type:"multi-select",options:o(e,{type:"fromNestedSingleProperty",property:"rarity"})},{prop:"pattern",name:"Pattern",type:"multi-select",options:o(e,{type:"fromNestedSingleProperty",property:"pattern"})},{prop:"team",name:"Team",type:"multi-select",options:o(e,{type:"fromNestedSingleProperty",property:"team"})},{prop:"weapon",name:"Weapon",type:"multi-select",options:o(e,{type:"fromNestedSingleProperty",property:"weapon"})},{prop:"wear",name:"Wear",type:"multi-select",options:o(e,{type:"fromNestedSingleProperty",property:"wear"})},{prop:"category",name:"Category",type:"multi-select",options:o(e,{type:"fromNestedSingleProperty",property:"category"})},{prop:"paint_index",name:"Paint index",type:"multi-select",options:o(e,{type:"fromProperty",property:"paint_index"})},{prop:"souvenir",name:"Souvenir",type:"multi-select",options:[{id:"true",name:"Yes"},{id:"false",name:"No"}]},{prop:"stattrak",name:"StatTrakâ„¢",type:"multi-select",options:[{id:"true",name:"Yes"},{id:"false",name:"No"}]},{prop:"crates",name:"Crate",type:"multi-select",options:o(e,{type:"fromNestedProperty",property:"crates"})},{prop:"collections",name:"Collection",type:"multi-select",options:o(e,{type:"fromNestedProperty",property:"collections"})}];return{items:g(e,i,t),filters:l}}}const h={class:"flex flex-row flex-1"},L=S({__name:"SkinsView",setup(u){const i=_(),t=f({query:new C().query})("skins")(),e=v(!1);function l(){i.deleteItem(),e.value=!0}function m(p){e.value=!1,i.getItemDetails(p)}function n({prop:p,value:r}){t.setFilters({prop:p,value:r}),t.fetch()}return(p,r)=>(y(),k("div",h,[N(c,{items:s(t).items,"items-count":s(t).itemsCount,loading:s(t).loading,search:s(t).search,"has-filters":s(t).filters.length>0,onSetQuery:r[0]||(r[0]=a=>s(t).setSearch(a)),onSelect:m,onLoadMore:r[1]||(r[1]=a=>s(t).loadMore()),onOpenFilters:r[2]||(r[2]=a=>l())},null,8,["items","items-count","loading","search","has-filters"]),e.value?(y(),P(x,{key:0,filters:s(t).filters,"filters-values":s(t).filtersValues,onSetFilters:n,onClose:r[3]||(r[3]=a=>e.value=!1)},null,8,["filters","filters-values"])):w("",!0)]))}});export{L as default};
