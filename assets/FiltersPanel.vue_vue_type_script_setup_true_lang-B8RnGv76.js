import{h as n,k as r,o as a,d as f,r as g,l as $,w as C,v as V,F as w,m as y,n as x,p as v,j as b,i as m,a as h,q as F,s as k}from"./index-DbsIvnsS.js";function L(p,s){return a(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})])}const O=["placeholder"],j=["value","checked","onChange"],B=f({__name:"MultiSelectFilter",props:{options:{},values:{}},emits:["update:values"],setup(p,{emit:s}){const t=p,o=s,e=g(""),d=$(()=>t.options.filter(u=>u.name.toLocaleLowerCase().includes(e.value.toLocaleLowerCase()))),c=u=>{const i=t.values,l=i.indexOf(u);l===-1?i.push(u):i.splice(l,1),o("update:values",i)},_=u=>t.values.includes(u);return(u,i)=>(a(),n("div",null,[C(r("input",{"onUpdate:modelValue":i[0]||(i[0]=l=>e.value=l),class:"w-full h-full py-3 text-white rounded-md outline-none bg-black-300 border-2 border-black-300 focus:outline-none mb-4 sm:text-sm focus:ring-2 focus:ring-[#ff5e65] focus:border-transparent",type:"text",placeholder:u.$t("filter_search")},null,8,O),[[V,e.value]]),(a(!0),n(w,null,y(d.value,l=>(a(),n("label",{key:l.id,class:"flex items-center gap-2 p-2 text-gray-300 rounded-md cursor-pointer hover:bg-black-300"},[r("input",{type:"checkbox",class:"w-4 h-4 text-[#ff5e65] border-gray-300 rounded focus:ring-[#ff5e65]",value:l.id,checked:_(l.id),onChange:T=>c(l.id)},null,40,j),x(" "+v(l.name),1)]))),128))]))}}),N={key:0},S=f({__name:"FiltersPanelControl",props:{prop:{},name:{},type:{},options:{},values:{}},emits:["close","update:values"],setup(p){return(s,t)=>s.type==="multi-select"?(a(),n("div",N,[m(B,{options:s.options,values:s.values,"onUpdate:values":t[0]||(t[0]=o=>s.$emit("update:values",{prop:s.prop,value:o}))},null,8,["options","values"])])):b("",!0)}}),U={class:"h-dvh md:border-l-2 border-black-300 md:w-80 xl:w-[30rem] flex flex-col absolute inset-0 md:relative bg-black-400 z-50"},z={class:"flex items-center w-full h-[69px] border-b-2 border-black-300 px-4 sticky top-0 text-black-100"},D={class:"h-[calc(100vh-69px)] py-4 pt-0 overflow-x-hidden"},M=["onClick"],P={class:"text-sm font-normal text-black-100"},E=f({__name:"FiltersPanel",props:{filters:{},filtersValues:{}},emits:["close","set-filters","remove-filters"],setup(p){const s=g({});return(t,o)=>(a(),n("div",U,[r("div",z,[r("button",{class:"ml-auto disabled:cursor-wait",onClick:o[0]||(o[0]=e=>t.$emit("close"))},[m(h(F),{class:"w-6 h-6 text-white"})])]),r("div",D,[Object.keys(t.filtersValues).length>0?(a(),n("button",{key:0,type:"button",class:"w-full py-2 mb-2 font-semibold text-red-800 border-y-2 border-red-800/20 bg-red-900/20 hover:bg-red-900/30",onClick:o[1]||(o[1]=e=>t.$emit("remove-filters"))}," Remove all selected filters ")):b("",!0),r("div",null,[(a(!0),n(w,null,y(t.filters,e=>{var d;return a(),n("div",{key:e.prop},[r("button",{class:"sticky top-0 flex items-center justify-between w-full p-4 font-semibold text-gray-100 border-b-2 border-black-300 bg-black-400",onClick:c=>s.value[e.prop]=!s.value[e.prop]},[r("div",null,[x(v(e.name)+" ",1),r("span",P,"("+v((d=t.filtersValues[e.prop])!=null&&d.length?`${t.filtersValues[e.prop].length}/${e.options.length}`:e.options.length)+")",1)]),m(h(L),{class:k(["w-6 h-6 duration-300 text-black-200",{"rotate-180":s.value[e.prop]}])},null,8,["class"])],8,M),s.value[e.prop]?(a(),n("div",{key:0,class:k(["p-4",{"border-b-2 border-black-300":s.value}])},[m(S,{prop:e.prop,name:e.name,type:e.type,options:e.options,values:t.filtersValues[e.prop]??[],"onUpdate:values":o[2]||(o[2]=c=>t.$emit("set-filters",c))},null,8,["prop","name","type","options","values"])],2)):b("",!0)])}),128))])])]))}});export{E as _};
