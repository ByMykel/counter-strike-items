import{o,e as r,j as n,d as g,r as _,k as x,w as O,v as S,F as m,l as h,m as k,t as f,i as p,h as b,a as $,n as F,p as C}from"./index-2d239b12.js";function j(v,l){return o(),r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})])}const B=["value","checked","onChange"],N={key:0,class:"my-2 border-t-2 border-dashed border-black-300"},U=["value","checked","onChange"],D=g({__name:"MultiSelectFilter",props:{options:{},values:{}},emits:["update:values"],setup(v,{emit:l}){const t=v,a=l,e=_(""),c=x(()=>t.options.filter(u=>t.values.includes(u.id)?!1:u.name.toLocaleLowerCase().includes(e.value.toLocaleLowerCase()))),i=x(()=>t.options.filter(u=>t.values.includes(u.id)?u.name.toLocaleLowerCase().includes(e.value.toLocaleLowerCase()):!1)),y=u=>{const d=t.values,s=d.indexOf(u);s===-1?d.push(u):d.splice(s,1),a("update:values",d)},w=u=>t.values.includes(u);function V(){a("update:values",[])}return(u,d)=>(o(),r("div",null,[O(n("input",{"onUpdate:modelValue":d[0]||(d[0]=s=>e.value=s),class:"w-full h-full py-3 text-white rounded-md outline-none bg-black-300 border-2 border-black-300 focus:outline-none mb-4 sm:text-sm focus:ring-2 focus:ring-[#ff5e65] focus:border-transparent",type:"text",placeholder:"Search to filter..."},null,512),[[S,e.value]]),i.value.length?(o(),r(m,{key:0},[n("button",{type:"button",class:"w-full py-1 mb-2 text-red-800 rounded-md bg-red-900/20 hover:bg-red-900/30",onClick:d[1]||(d[1]=s=>V())}," Remove all selected "),(o(!0),r(m,null,h(i.value,s=>(o(),r("label",{key:s.id,class:"flex items-center gap-2 p-2 text-gray-300 rounded-md cursor-pointer hover:bg-black-300"},[n("input",{type:"checkbox",class:"w-4 h-4 text-[#ff5e65] border-gray-300 rounded focus:ring-[#ff5e65]",value:s.id,checked:w(s.id),onChange:L=>y(s.id)},null,40,B),k(" "+f(s.name),1)]))),128)),i.value.length&&c.value.length?(o(),r("div",N)):p("",!0)],64)):p("",!0),(o(!0),r(m,null,h(c.value,s=>(o(),r("label",{key:s.id,class:"flex items-center gap-2 p-2 text-gray-300 rounded-md cursor-pointer hover:bg-black-300"},[n("input",{type:"checkbox",class:"w-4 h-4 text-[#ff5e65] border-gray-300 rounded focus:ring-[#ff5e65]",value:s.id,checked:w(s.id),onChange:L=>y(s.id)},null,40,U),k(" "+f(s.name),1)]))),128))]))}}),M={key:0},P=g({__name:"FiltersPanelControl",props:{prop:{},name:{},type:{},options:{},values:{}},emits:["close","update:values"],setup(v){return(l,t)=>l.type==="multi-select"?(o(),r("div",M,[b(D,{options:l.options,values:l.values,"onUpdate:values":t[0]||(t[0]=a=>l.$emit("update:values",{prop:l.prop,value:a}))},null,8,["options","values"])])):p("",!0)}}),R={class:"h-dvh md:border-l-2 border-black-300 md:w-80 xl:w-[30rem] flex flex-col absolute inset-0 md:relative bg-black-400"},T={class:"flex items-center w-full h-[69px] border-b-2 border-black-300 px-4 sticky top-0 text-black-100"},z={class:"h-[calc(100vh-69px)] py-4 pt-0 overflow-x-hidden"},E=["onClick"],q={class:"text-sm font-normal text-black-100"},G=g({__name:"FiltersPanel",props:{filters:{},filtersValues:{}},emits:["close","set-filters","remove-filters"],setup(v){const l=_({});return(t,a)=>(o(),r("div",R,[n("div",T,[n("button",{class:"ml-auto disabled:cursor-wait",onClick:a[0]||(a[0]=e=>t.$emit("close"))},[b($(F),{class:"w-6 h-6 text-white"})])]),n("div",z,[Object.keys(t.filtersValues).length>0?(o(),r("button",{key:0,type:"button",class:"w-full py-2 mb-2 font-semibold text-red-800 border-y-2 border-red-800/20 bg-red-900/20 hover:bg-red-900/30",onClick:a[1]||(a[1]=e=>t.$emit("remove-filters"))}," Remove all selected ")):p("",!0),n("div",null,[(o(!0),r(m,null,h(t.filters,e=>{var c;return o(),r("div",{key:e.prop},[n("button",{class:"sticky top-0 flex items-center justify-between w-full p-4 font-semibold text-gray-100 border-b-2 border-black-300 bg-black-400",onClick:i=>l.value[e.prop]=!l.value[e.prop]},[n("div",null,[k(f(e.name)+" ",1),n("span",q,"("+f((c=t.filtersValues[e.prop])!=null&&c.length?`${t.filtersValues[e.prop].length}/${e.options.length}`:e.options.length)+")",1)]),b($(j),{class:C(["w-6 h-6 duration-300 text-black-200",{"rotate-180":l.value[e.prop]}])},null,8,["class"])],8,E),l.value[e.prop]?(o(),r("div",{key:0,class:C(["p-4",{"border-b-2 border-black-300":l.value}])},[b(P,{prop:e.prop,name:e.name,type:e.type,options:e.options,values:t.filtersValues[e.prop]??[],"onUpdate:values":a[2]||(a[2]=i=>t.$emit("set-filters",i))},null,8,["prop","name","type","options","values"])],2)):p("",!0)])}),128))])])]))}});export{G as _};
