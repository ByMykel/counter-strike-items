import{c,_ as d}from"./ItemsList.vue_vue_type_script_setup_true_lang-33bd0739.js";import{b as g,g as o,f as S,d as v,u as _,r as k,e as N,h as P,a as s,c as w,i as F,o as u}from"./index-4a33e5b7.js";import{_ as h}from"./FiltersPanel.vue_vue_type_script_setup_true_lang-f9bdcba9.js";class x{async query({search:i,filters:e}){let t=await g.get("https://raw.githubusercontent.com/ByMykel/CSGO-API/main/public/api/en/skins_not_grouped.json").then(m=>m.data.map(n=>({...n,rare:["sfui_invpanel_filter_melee","sfui_invpanel_filter_gloves"].includes(n.category.id)})));const p=[{prop:"rarity",name:"Rarity",type:"multi-select",options:o(t,{type:"fromNestedSingleProperty",property:"rarity"})},{prop:"pattern",name:"Pattern",type:"multi-select",options:o(t,{type:"fromNestedSingleProperty",property:"pattern"})},{prop:"style",name:"Finish Style",type:"multi-select",options:o(t,{type:"fromNestedSingleProperty",property:"style"})},{prop:"team",name:"Team",type:"multi-select",options:o(t,{type:"fromNestedSingleProperty",property:"team"})},{prop:"weapon",name:"Weapon",type:"multi-select",options:o(t,{type:"fromNestedSingleProperty",property:"weapon"})},{prop:"wear",name:"Wear",type:"multi-select",options:o(t,{type:"fromNestedSingleProperty",property:"wear"})},{prop:"category",name:"Category",type:"multi-select",options:o(t,{type:"fromNestedSingleProperty",property:"category"})},{prop:"paint_index",name:"Paint index",type:"multi-select",options:o(t,{type:"fromProperty",property:"paint_index"})},{prop:"souvenir",name:"Souvenir",type:"multi-select",options:[{id:"true",name:"Yes"},{id:"false",name:"No"}]},{prop:"stattrak",name:"StatTrakâ„¢",type:"multi-select",options:[{id:"true",name:"Yes"},{id:"false",name:"No"}]}];return{items:S(t,i,e),filters:p}}}const C={class:"flex flex-row flex-1"},L=v({__name:"SkinsView",setup(y){const i=_(),e=c({query:new x().query})("skins")(),t=k(!1);function p(){i.deleteItem(),t.value=!0}function m(a){t.value=!1,i.getItemDetails(a)}function n({prop:a,value:r}){e.setFilters({prop:a,value:r}),e.fetch()}function f(){e.removeFilters(),e.fetch()}return(a,r)=>(u(),N("div",C,[P(d,{items:s(e).items,"items-count":s(e).itemsCount,loading:s(e).loading,search:s(e).search,"has-filters":s(e).filters.length>0,onSetQuery:r[0]||(r[0]=l=>s(e).setSearch(l)),onSelect:m,onLoadMore:r[1]||(r[1]=l=>s(e).loadMore()),onOpenFilters:r[2]||(r[2]=l=>p())},null,8,["items","items-count","loading","search","has-filters"]),t.value?(u(),w(h,{key:0,filters:s(e).filters,"filters-values":s(e).filtersValues,onSetFilters:n,onRemoveFilters:f,onClose:r[3]||(r[3]=l=>t.value=!1)},null,8,["filters","filters-values"])):F("",!0)]))}});export{L as default};
