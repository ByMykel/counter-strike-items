import{c as b,b as w,o as h,n as Oe,p as le,q as R,w as H,a as I,s as y,v as ne,x as De,y as Ae,F as B,z as be,d as T,A as ge,B as Te,C as q,D as M,E as re,e as D,g,f as W,t as L,G as _,I as ye,J as Ce,r as N,K as we,L as Le,i as j,M as Be,N as Re,O as Ne,P as Ve,Q as je,R as qe,u as Ue}from"./index-D1rQjgKx.js";import{a as He,_ as Ke}from"./ItemsSkeleton.vue_vue_type_script_setup_true_lang-Cg8tNbuR.js";import{u as _e}from"./useTitle-C6cFeb_v.js";function ze(e,l){return h(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 7.5 7.5 3m0 0L12 7.5M7.5 3v13.5m13.5 0L16.5 21m0 0L12 16.5m4.5 4.5V7.5"})])}function We(e,l){return h(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})])}function Qe(e,l){return h(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"})])}function Ge(e,l){return h(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})])}var de;let Xe=Symbol("headlessui.useid"),Ze=0;const se=(de=Oe)!=null?de:function(){return le(Xe,()=>`${++Ze}`)()};function $(e){var l;if(e==null||e.value==null)return null;let t=(l=e.value.$el)!=null?l:e.value;return t instanceof Node?t:null}function Q(e,l,...t){if(e in l){let s=l[e];return typeof s=="function"?s(...t):s}let o=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(l).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,Q),o}var Je=Object.defineProperty,Ye=(e,l,t)=>l in e?Je(e,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[l]=t,fe=(e,l,t)=>(Ye(e,typeof l!="symbol"?l+"":l,t),t);let et=class{constructor(){fe(this,"current",this.detect()),fe(this,"currentId",0)}set(l){this.current!==l&&(this.currentId=0,this.current=l)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}},oe=new et;function ae(e){if(oe.isServer)return null;if(e instanceof Node)return e.ownerDocument;if(e!=null&&e.hasOwnProperty("value")){let l=$(e);if(l)return l.ownerDocument}return document}let Y=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var ee=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(ee||{}),tt=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(tt||{}),lt=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(lt||{});function xe(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Y)).sort((l,t)=>Math.sign((l.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}var ue=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(ue||{});function ie(e,l=0){var t;return e===((t=ae(e))==null?void 0:t.body)?!1:Q(l,{0(){return e.matches(Y)},1(){let o=e;for(;o!==null;){if(o.matches(Y))return!0;o=o.parentElement}return!1}})}function ke(e){let l=ae(e);R(()=>{l&&!ie(l.activeElement,0)&&rt(e)})}var nt=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(nt||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function rt(e){e?.focus({preventScroll:!0})}let st=["textarea","input"].join(",");function ot(e){var l,t;return(t=(l=e?.matches)==null?void 0:l.call(e,st))!=null?t:!1}function Se(e,l=t=>t){return e.slice().sort((t,o)=>{let s=l(t),r=l(o);if(s===null||r===null)return 0;let n=s.compareDocumentPosition(r);return n&Node.DOCUMENT_POSITION_FOLLOWING?-1:n&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function at(e,l){return ut(xe(),l,{relativeTo:e})}function ut(e,l,{sorted:t=!0,relativeTo:o=null,skipElements:s=[]}={}){var r;let n=(r=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e?.ownerDocument)!=null?r:document,a=Array.isArray(e)?t?Se(e):e:xe(e);s.length>0&&a.length>1&&(a=a.filter(v=>!s.includes(v))),o=o??n.activeElement;let c=(()=>{if(l&5)return 1;if(l&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=(()=>{if(l&1)return 0;if(l&2)return Math.max(0,a.indexOf(o))-1;if(l&4)return Math.max(0,a.indexOf(o))+1;if(l&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=l&32?{preventScroll:!0}:{},m=0,i=a.length,f;do{if(m>=i||m+i<=0)return 0;let v=u+m;if(l&16)v=(v+i)%i;else{if(v<0)return 3;if(v>=i)return 1}f=a[v],f?.focus(d),m+=c}while(f!==n.activeElement);return l&6&&ot(f)&&f.select(),2}function it(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function ct(){return/Android/gi.test(window.navigator.userAgent)}function dt(){return it()||ct()}function z(e,l,t){oe.isServer||H(o=>{document.addEventListener(e,l,t),o(()=>document.removeEventListener(e,l,t))})}function ft(e,l,t){oe.isServer||H(o=>{window.addEventListener(e,l,t),o(()=>window.removeEventListener(e,l,t))})}function vt(e,l,t=I(()=>!0)){function o(r,n){if(!t.value||r.defaultPrevented)return;let a=n(r);if(a===null||!a.getRootNode().contains(a))return;let c=(function u(d){return typeof d=="function"?u(d()):Array.isArray(d)||d instanceof Set?d:[d]})(e);for(let u of c){if(u===null)continue;let d=u instanceof HTMLElement?u:$(u);if(d!=null&&d.contains(a)||r.composed&&r.composedPath().includes(d))return}return!ie(a,ue.Loose)&&a.tabIndex!==-1&&r.preventDefault(),l(r,a)}let s=y(null);z("pointerdown",r=>{var n,a;t.value&&(s.value=((a=(n=r.composedPath)==null?void 0:n.call(r))==null?void 0:a[0])||r.target)},!0),z("mousedown",r=>{var n,a;t.value&&(s.value=((a=(n=r.composedPath)==null?void 0:n.call(r))==null?void 0:a[0])||r.target)},!0),z("click",r=>{dt()||s.value&&(o(r,()=>s.value),s.value=null)},!0),z("touchend",r=>o(r,()=>r.target instanceof HTMLElement?r.target:null),!0),ft("blur",r=>o(r,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function ve(e,l){if(e)return e;let t=l??"button";if(typeof t=="string"&&t.toLowerCase()==="button")return"button"}function mt(e,l){let t=y(ve(e.value.type,e.value.as));return ne(()=>{t.value=ve(e.value.type,e.value.as)}),H(()=>{var o;t.value||$(l)&&$(l)instanceof HTMLButtonElement&&!((o=$(l))!=null&&o.hasAttribute("type"))&&(t.value="button")}),t}function me(e){return[e.screenX,e.screenY]}function pt(){let e=y([-1,-1]);return{wasMoved(l){let t=me(l);return e.value[0]===t[0]&&e.value[1]===t[1]?!1:(e.value=t,!0)},update(l){e.value=me(l)}}}function ht({container:e,accept:l,walk:t,enabled:o}){H(()=>{let s=e.value;if(!s||o!==void 0&&!o.value)return;let r=ae(e);if(!r)return;let n=Object.assign(c=>l(c),{acceptNode:l}),a=r.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,n,!1);for(;a.nextNode();)t(a.currentNode)})}var te=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(te||{}),bt=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(bt||{});function G({visible:e=!0,features:l=0,ourProps:t,theirProps:o,...s}){var r;let n=Ie(o,t),a=Object.assign(s,{props:n});if(e||l&2&&n.static)return J(a);if(l&1){let c=(r=n.unmount)==null||r?0:1;return Q(c,{0(){return null},1(){return J({...s,props:{...n,hidden:!0,style:{display:"none"}}})}})}return J(a)}function J({props:e,attrs:l,slots:t,slot:o,name:s}){var r,n;let{as:a,...c}=gt(e,["unmount","static"]),u=(r=t.default)==null?void 0:r.call(t,o),d={};if(o){let m=!1,i=[];for(let[f,v]of Object.entries(o))typeof v=="boolean"&&(m=!0),v===!0&&i.push(f);m&&(d["data-headlessui-state"]=i.join(" "))}if(a==="template"){if(u=$e(u??[]),Object.keys(c).length>0||Object.keys(l).length>0){let[m,...i]=u??[];if(!yt(m)||i.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${s} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(c).concat(Object.keys(l)).map(p=>p.trim()).filter((p,k,S)=>S.indexOf(p)===k).sort((p,k)=>p.localeCompare(k)).map(p=>`  - ${p}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(p=>`  - ${p}`).join(`
`)].join(`
`));let f=Ie((n=m.props)!=null?n:{},c,d),v=De(m,f,!0);for(let p in f)p.startsWith("on")&&(v.props||(v.props={}),v.props[p]=f[p]);return v}return Array.isArray(u)&&u.length===1?u[0]:u}return Ae(a,Object.assign({},c,d),{default:()=>u})}function $e(e){return e.flatMap(l=>l.type===B?$e(l.children):[l])}function Ie(...e){if(e.length===0)return{};if(e.length===1)return e[0];let l={},t={};for(let o of e)for(let s in o)s.startsWith("on")&&typeof o[s]=="function"?(t[s]!=null||(t[s]=[]),t[s].push(o[s])):l[s]=o[s];if(l.disabled||l["aria-disabled"])return Object.assign(l,Object.fromEntries(Object.keys(t).map(o=>[o,void 0])));for(let o in t)Object.assign(l,{[o](s,...r){let n=t[o];for(let a of n){if(s instanceof Event&&s.defaultPrevented)return;a(s,...r)}}});return l}function gt(e,l=[]){let t=Object.assign({},e);for(let o of l)o in t&&delete t[o];return t}function yt(e){return e==null?!1:typeof e.type=="string"||typeof e.type=="object"||typeof e.type=="function"}let Fe=Symbol("Context");var U=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(U||{});function wt(){return le(Fe,null)}function xt(e){be(Fe,e)}var E=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(E||{});function kt(e){throw new Error("Unexpected object: "+e)}var A=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(A||{});function St(e,l){let t=l.resolveItems();if(t.length<=0)return null;let o=l.resolveActiveIndex(),s=o??-1;switch(e.focus){case 0:{for(let r=0;r<t.length;++r)if(!l.resolveDisabled(t[r],r,t))return r;return o}case 1:{s===-1&&(s=t.length);for(let r=s-1;r>=0;--r)if(!l.resolveDisabled(t[r],r,t))return r;return o}case 2:{for(let r=s+1;r<t.length;++r)if(!l.resolveDisabled(t[r],r,t))return r;return o}case 3:{for(let r=t.length-1;r>=0;--r)if(!l.resolveDisabled(t[r],r,t))return r;return o}case 4:{for(let r=0;r<t.length;++r)if(l.resolveId(t[r],r,t)===e.id)return r;return o}case 5:return null;default:kt(e)}}let pe=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function he(e){var l,t;let o=(l=e.innerText)!=null?l:"",s=e.cloneNode(!0);if(!(s instanceof HTMLElement))return o;let r=!1;for(let a of s.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),r=!0;let n=r?(t=s.innerText)!=null?t:"":o;return pe.test(n)&&(n=n.replace(pe,"")),n}function $t(e){let l=e.getAttribute("aria-label");if(typeof l=="string")return l.trim();let t=e.getAttribute("aria-labelledby");if(t){let o=t.split(" ").map(s=>{let r=document.getElementById(s);if(r){let n=r.getAttribute("aria-label");return typeof n=="string"?n.trim():he(r).trim()}return null}).filter(Boolean);if(o.length>0)return o.join(", ")}return he(e).trim()}function It(e){let l=y(""),t=y("");return()=>{let o=$(e);if(!o)return"";let s=o.innerText;if(l.value===s)return t.value;let r=$t(o).trim().toLowerCase();return l.value=s,t.value=r,r}}var Ft=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Ft||{}),Et=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Et||{});function Pt(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let Ee=Symbol("MenuContext");function X(e){let l=le(Ee,null);if(l===null){let t=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,X),t}return l}let Mt=T({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(e,{slots:l,attrs:t}){let o=y(1),s=y(null),r=y(null),n=y([]),a=y(""),c=y(null),u=y(1);function d(i=f=>f){let f=c.value!==null?n.value[c.value]:null,v=Se(i(n.value.slice()),k=>$(k.dataRef.domRef)),p=f?v.indexOf(f):null;return p===-1&&(p=null),{items:v,activeItemIndex:p}}let m={menuState:o,buttonRef:s,itemsRef:r,items:n,searchQuery:a,activeItemIndex:c,activationTrigger:u,closeMenu:()=>{o.value=1,c.value=null},openMenu:()=>o.value=0,goToItem(i,f,v){let p=d(),k=St(i===A.Specific?{focus:A.Specific,id:f}:{focus:i},{resolveItems:()=>p.items,resolveActiveIndex:()=>p.activeItemIndex,resolveId:S=>S.id,resolveDisabled:S=>S.dataRef.disabled});a.value="",c.value=k,u.value=v??1,n.value=p.items},search(i){let f=a.value!==""?0:1;a.value+=i.toLowerCase();let v=(c.value!==null?n.value.slice(c.value+f).concat(n.value.slice(0,c.value+f)):n.value).find(k=>k.dataRef.textValue.startsWith(a.value)&&!k.dataRef.disabled),p=v?n.value.indexOf(v):-1;p===-1||p===c.value||(c.value=p,u.value=1)},clearSearch(){a.value=""},registerItem(i,f){let v=d(p=>[...p,{id:i,dataRef:f}]);n.value=v.items,c.value=v.activeItemIndex,u.value=1},unregisterItem(i){let f=d(v=>{let p=v.findIndex(k=>k.id===i);return p!==-1&&v.splice(p,1),v});n.value=f.items,c.value=f.activeItemIndex,u.value=1}};return vt([s,r],(i,f)=>{var v;m.closeMenu(),ie(f,ue.Loose)||(i.preventDefault(),(v=$(s))==null||v.focus())},I(()=>o.value===0)),be(Ee,m),xt(I(()=>Q(o.value,{0:U.Open,1:U.Closed}))),()=>{let i={open:o.value===0,close:m.closeMenu};return G({ourProps:{},theirProps:e,slot:i,slots:l,attrs:t,name:"Menu"})}}}),Ot=T({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:l,slots:t,expose:o}){var s;let r=(s=e.id)!=null?s:`headlessui-menu-button-${se()}`,n=X("MenuButton");o({el:n.buttonRef,$el:n.buttonRef});function a(m){switch(m.key){case E.Space:case E.Enter:case E.ArrowDown:m.preventDefault(),m.stopPropagation(),n.openMenu(),R(()=>{var i;(i=$(n.itemsRef))==null||i.focus({preventScroll:!0}),n.goToItem(A.First)});break;case E.ArrowUp:m.preventDefault(),m.stopPropagation(),n.openMenu(),R(()=>{var i;(i=$(n.itemsRef))==null||i.focus({preventScroll:!0}),n.goToItem(A.Last)});break}}function c(m){m.key===E.Space&&m.preventDefault()}function u(m){e.disabled||(n.menuState.value===0?(n.closeMenu(),R(()=>{var i;return(i=$(n.buttonRef))==null?void 0:i.focus({preventScroll:!0})})):(m.preventDefault(),n.openMenu(),Pt(()=>{var i;return(i=$(n.itemsRef))==null?void 0:i.focus({preventScroll:!0})})))}let d=mt(I(()=>({as:e.as,type:l.type})),n.buttonRef);return()=>{var m;let i={open:n.menuState.value===0},{...f}=e,v={ref:n.buttonRef,id:r,type:d.value,"aria-haspopup":"menu","aria-controls":(m=$(n.itemsRef))==null?void 0:m.id,"aria-expanded":n.menuState.value===0,onKeydown:a,onKeyup:c,onClick:u};return G({ourProps:v,theirProps:f,slot:i,attrs:l,slots:t,name:"MenuButton"})}}}),Dt=T({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:l,slots:t,expose:o}){var s;let r=(s=e.id)!=null?s:`headlessui-menu-items-${se()}`,n=X("MenuItems"),a=y(null);o({el:n.itemsRef,$el:n.itemsRef}),ht({container:I(()=>$(n.itemsRef)),enabled:I(()=>n.menuState.value===0),accept(i){return i.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:i.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(i){i.setAttribute("role","none")}});function c(i){var f;switch(a.value&&clearTimeout(a.value),i.key){case E.Space:if(n.searchQuery.value!=="")return i.preventDefault(),i.stopPropagation(),n.search(i.key);case E.Enter:if(i.preventDefault(),i.stopPropagation(),n.activeItemIndex.value!==null){let v=n.items.value[n.activeItemIndex.value];(f=$(v.dataRef.domRef))==null||f.click()}n.closeMenu(),ke($(n.buttonRef));break;case E.ArrowDown:return i.preventDefault(),i.stopPropagation(),n.goToItem(A.Next);case E.ArrowUp:return i.preventDefault(),i.stopPropagation(),n.goToItem(A.Previous);case E.Home:case E.PageUp:return i.preventDefault(),i.stopPropagation(),n.goToItem(A.First);case E.End:case E.PageDown:return i.preventDefault(),i.stopPropagation(),n.goToItem(A.Last);case E.Escape:i.preventDefault(),i.stopPropagation(),n.closeMenu(),R(()=>{var v;return(v=$(n.buttonRef))==null?void 0:v.focus({preventScroll:!0})});break;case E.Tab:i.preventDefault(),i.stopPropagation(),n.closeMenu(),R(()=>at($(n.buttonRef),i.shiftKey?ee.Previous:ee.Next));break;default:i.key.length===1&&(n.search(i.key),a.value=setTimeout(()=>n.clearSearch(),350));break}}function u(i){i.key===E.Space&&i.preventDefault()}let d=wt(),m=I(()=>d!==null?(d.value&U.Open)===U.Open:n.menuState.value===0);return()=>{var i,f;let v={open:n.menuState.value===0},{...p}=e,k={"aria-activedescendant":n.activeItemIndex.value===null||(i=n.items.value[n.activeItemIndex.value])==null?void 0:i.id,"aria-labelledby":(f=$(n.buttonRef))==null?void 0:f.id,id:r,onKeydown:c,onKeyup:u,role:"menu",tabIndex:0,ref:n.itemsRef};return G({ourProps:k,theirProps:p,slot:v,attrs:l,slots:t,features:te.RenderStrategy|te.Static,visible:m.value,name:"MenuItems"})}}}),At=T({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{slots:l,attrs:t,expose:o}){var s;let r=(s=e.id)!=null?s:`headlessui-menu-item-${se()}`,n=X("MenuItem"),a=y(null);o({el:a,$el:a});let c=I(()=>n.activeItemIndex.value!==null?n.items.value[n.activeItemIndex.value].id===r:!1),u=It(a),d=I(()=>({disabled:e.disabled,get textValue(){return u()},domRef:a}));ne(()=>n.registerItem(r,d)),ge(()=>n.unregisterItem(r)),H(()=>{n.menuState.value===0&&c.value&&n.activationTrigger.value!==0&&R(()=>{var S,C;return(C=(S=$(a))==null?void 0:S.scrollIntoView)==null?void 0:C.call(S,{block:"nearest"})})});function m(S){if(e.disabled)return S.preventDefault();n.closeMenu(),ke($(n.buttonRef))}function i(){if(e.disabled)return n.goToItem(A.Nothing);n.goToItem(A.Specific,r)}let f=pt();function v(S){f.update(S)}function p(S){f.wasMoved(S)&&(e.disabled||c.value||n.goToItem(A.Specific,r,0))}function k(S){f.wasMoved(S)&&(e.disabled||c.value&&n.goToItem(A.Nothing))}return()=>{let{disabled:S,...C}=e,V={active:c.value,disabled:S,close:n.closeMenu};return G({ourProps:{id:r,ref:a,role:"menuitem",tabIndex:S===!0?void 0:-1,"aria-disabled":S===!0?!0:void 0,onClick:m,onFocus:i,onPointerenter:v,onMouseenter:v,onPointermove:p,onMousemove:p,onPointerleave:k,onMouseleave:k},theirProps:{...t,...C},slot:V,attrs:t,slots:l,name:"MenuItem"})}}});const Tt={class:"relative"},Ct={class:"absolute left-0 flex items-center h-full px-2"},Lt={class:"absolute right-0 flex items-center h-full gap-2 px-3"},Bt={key:0,class:"px-2 text-sm text-white rounded-md bg-black-200 hidden sm:block"},Rt={class:"font-semibold"},Nt={key:1,class:"w-20 h-6 px-2 rounded-md bg-black-200 animate-pulse"},Vt={key:0,class:"absolute top-1 right-1 bg-[#ff5e65] size-2 rounded-full"},jt=["onClick"],qt={key:0,class:"absolute top-1 right-1 bg-[#ff5e65] size-2 rounded-full"},Ut={key:0,class:"flex gap-2 overflow-x-auto pb-0.5"},Ht={class:""},Kt={class:"flex items-center gap-1 flex-wrap"},_t=["onClick"],zt=T({__name:"SearchBar",props:{query:{},total:{},scrolledDown:{type:Boolean},hasFilters:{type:Boolean},hasSelectedFilters:{type:Boolean},sortBy:{},loading:{type:Boolean},filters:{},filtersValues:{}},emits:["input","open-filters","remove-filter","set-sort-by"],setup(e,{emit:l}){const t=[{value:"",label:"Default"},{value:"price-asc",label:"Price: Low to High"},{value:"price-desc",label:"Price: High to Low"}],o=e,s=l,r=y(o.query||"");return Te(()=>o.query,n=>{r.value=n}),(n,a)=>(h(),b("div",{class:q(["sticky top-0 left-0 right-0 px-5 pt-3 pb-2 duration-300 z-10 gap-2 flex flex-col",[e.scrolledDown?"bg-black-300 shadow-lg":"bg-transparent"]])},[w("div",Tt,[w("div",Ct,[D(g(Ge),{class:"w-6 h-6 text-black-200"})]),w("div",Lt,[e.loading?(h(),b("div",Nt)):(h(),b("p",Bt,[a[3]||(a[3]=W(" total ",-1)),w("span",Rt,L(e.total),1)])),a[4]||(a[4]=w("div",{class:"w-0.5 h-[calc(100%-20px)] rounded-full bg-black-200/20"},null,-1)),D(g(Mt),{as:"div",class:"relative"},{default:_(()=>[D(g(Ot),{class:"p-1 rounded-md hover:bg-black-200 relative"},{default:_(()=>[D(g(ze),{class:"w-6 h-6 text-black-100"}),e.sortBy?(h(),b("div",Vt)):M("",!0)]),_:1}),D(g(Dt),{class:"absolute right-0 top-full mt-2 w-44 rounded-lg border border-black-200/20 bg-black-400 shadow-xl z-20 p-1 focus:outline-none"},{default:_(()=>[(h(),b(B,null,N(t,c=>D(g(At),{key:c.value},{default:_(({active:u})=>[w("button",{type:"button",class:q(["w-full text-left px-3 py-1.5 text-sm rounded-md",[e.sortBy===c.value?"text-[#ff5e65] font-medium":"text-gray-300",u?"bg-black-300":""]]),onClick:d=>s("set-sort-by",c.value)},L(c.label),11,jt)]),_:2},1024)),64))]),_:1})]),_:1}),e.hasFilters?(h(),b("button",{key:2,type:"button",class:"p-1 rounded-md hover:bg-black-200 relative",onClick:a[0]||(a[0]=c=>n.$emit("open-filters"))},[D(g(Qe),{class:"w-6 h-6 text-black-100"}),e.hasSelectedFilters?(h(),b("div",qt)):M("",!0)])):M("",!0)]),re(w("input",{"onUpdate:modelValue":a[1]||(a[1]=c=>r.value=c),class:"w-full h-full py-4 pl-12 pr-36 sm:pr-60 text-white border-0 rounded-md outline-none bg-black-300 focus:outline-none sm:text-sm focus:ring-2 focus:ring-[#ff5e65] focus:border-transparent",type:"text",placeholder:"Search...",onKeyup:a[2]||(a[2]=Ce(c=>n.$emit("input",r.value),["enter"]))},null,544),[[ye,r.value]])]),e.hasSelectedFilters?(h(),b("div",Ut,[(h(!0),b(B,null,N(e.filtersValues,(c,u)=>(h(),b("div",{key:u,class:"flex items-center gap-1 text-sm p-1 flex-shrink-0 text-white rounded-md bg-black-300"},[w("div",Ht,L(e.filters.find(d=>d.prop===u)?.name||u),1),w("div",Kt,[(h(!0),b(B,null,N(c,d=>(h(),b("button",{key:d,type:"button",class:"text-white bg-black-200 px-1 rounded-md flex items-center gap-1",onClick:m=>n.$emit("remove-filter",{prop:u,value:d})},[D(g(we),{class:"size-4 text-white"}),W(" "+L(e.filters.find(m=>m.prop===u)?.options.find(m=>m.id===d)?.name||d),1)],8,_t))),128))])]))),128))])):M("",!0)],2))}}),Wt={class:"flex flex-col"},Qt=["src","alt"],Gt={key:0,class:"absolute inset-0 bg-black-300 rounded-md animate-pulse"},Xt={key:1,class:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-20 rounded-md"},Zt=["src"],Jt=["title"],Yt=T({__name:"ItemVideo",props:{name:{},video:{},thumbnail:{}},emits:["show"],setup(e){const l=y(!1),t=y(!1);function o(){l.value=!0}return(s,r)=>(h(),b("div",Wt,[l.value?M("",!0):(h(),b("div",{key:0,class:"relative w-full aspect-video rounded-md cursor-pointer bg-gray-800",onClick:o},[w("img",{src:e.thumbnail,alt:e.name,class:"w-full h-full object-cover rounded-md",loading:"lazy",onLoad:r[0]||(r[0]=n=>t.value=!0),onError:r[1]||(r[1]=n=>t.value=!0)},null,40,Qt),t.value?M("",!0):(h(),b("div",Gt)),t.value?(h(),b("div",Xt,[...r[2]||(r[2]=[w("div",{class:"w-16 h-16 bg-white bg-opacity-90 rounded-full flex items-center justify-center hover:bg-opacity-100 transition-all"},[w("svg",{class:"w-8 h-8 text-black ml-1",fill:"currentColor",viewBox:"0 0 24 24"},[w("path",{d:"M8 5v14l11-7z"})])],-1)])])):M("",!0)])),l.value?(h(),b("video",{key:1,class:"object-cover w-full h-full rounded-md",src:e.video,autoplay:"",muted:"",playsinline:"",controls:""},null,8,Zt)):M("",!0),w("div",null,[w("p",{class:"text-sm truncate px-0.5 mt-1.5 text-white",title:e.name},L(e.name),9,Jt)])]))}}),el={class:"relative flex-1 w-full"},tl={key:3,class:"py-10"},ll=T({__name:"ItemsList",props:{items:{},itemsCount:{},loading:{type:Boolean},search:{},sortBy:{default:""},hasFilters:{type:Boolean,default:!1},hasSelectedFilters:{type:Boolean,default:!1},filters:{},filtersValues:{},isVideo:{type:Boolean,default:!1},hasSearch:{type:Boolean,default:!0}},emits:["set-query","set-sort-by","select","load-more","open-filters","remove-filter"],setup(e,{emit:l}){const t=l,o=y(null),{y:s}=Le(o),r=y(!1);function n(a){r.value=a,a===!0&&t("load-more")}return(a,c)=>(h(),b("div",el,[e.hasSearch?(h(),j(zt,{key:0,query:e.search,"scrolled-down":g(s)>40,total:e.itemsCount,loading:e.loading,"has-filters":e.hasFilters,"has-selected-filters":e.hasSelectedFilters,"sort-by":e.sortBy,filters:e.filters,"filters-values":e.filtersValues,onInput:c[0]||(c[0]=u=>a.$emit("set-query",u)),onSetSortBy:c[1]||(c[1]=u=>a.$emit("set-sort-by",u)),onOpenFilters:c[2]||(c[2]=u=>a.$emit("open-filters")),onRemoveFilter:c[3]||(c[3]=u=>a.$emit("remove-filter",u))},null,8,["query","scrolled-down","total","loading","has-filters","has-selected-filters","sort-by","filters","filters-values"])):M("",!0),w("div",{ref_key:"el",ref:o,class:q(["grid w-full gap-3 p-4 px-5 pb-32 mx-auto overflow-y-scroll h-[calc(100vh-69px)]",{"grid-cols-1 lg:grid-cols-2 xl:grid-cols-3":e.isVideo,"items-grid-small md:items-grid":!e.isVideo}])},[e.isVideo?(h(!0),b(B,{key:1},N(e.items,u=>(h(),j(Yt,{key:u.id,name:u.name,video:u.video,thumbnail:u.thumbnail},null,8,["name","video","thumbnail"]))),128)):(h(!0),b(B,{key:0},N(e.items,u=>(h(),j(Ke,{id:u.id,key:u.id,name:u.name,image:u.image,souvenir:u?.souvenir??!1,stattrak:u?.stattrak??!1,genuine:u?.genuine??!1,phase:u?.phase??null,"market-hash-name":u.market_hash_name,onShow:d=>a.$emit("select",u.id)},null,8,["id","name","image","souvenir","stattrak","genuine","phase","market-hash-name","onShow"]))),128)),e.loading?(h(),j(He,{key:2})):M("",!0),e.loading?M("",!0):re((h(),b("div",tl,null,512)),[[g(Be),n]])],2)]))}}),nl=["value","checked","onChange"],rl=T({__name:"MultiSelectFilter",props:{options:{},values:{}},emits:["update:values"],setup(e,{emit:l}){const t=e,o=l,s=y(""),r=I(()=>t.options.filter(c=>c.name.toLocaleLowerCase().includes(s.value.toLocaleLowerCase()))),n=c=>{const u=t.values,d=u.indexOf(c);d===-1?u.push(c):u.splice(d,1),o("update:values",u)},a=c=>t.values.includes(c);return(c,u)=>(h(),b("div",null,[re(w("input",{"onUpdate:modelValue":u[0]||(u[0]=d=>s.value=d),class:"w-full h-full py-3 text-white rounded-md outline-none bg-black-300 border-2 border-black-300 focus:outline-none mb-4 sm:text-sm focus:ring-2 focus:ring-[#ff5e65] focus:border-transparent",type:"text",placeholder:"Search to filter..."},null,512),[[ye,s.value]]),(h(!0),b(B,null,N(r.value,d=>(h(),b("label",{key:d.id,class:"flex items-center gap-2 p-2 text-gray-300 rounded-md cursor-pointer hover:bg-black-300"},[w("input",{type:"checkbox",class:"w-4 h-4 text-[#ff5e65] border-gray-300 rounded focus:ring-[#ff5e65]",value:d.id,checked:a(d.id),onChange:m=>n(d.id)},null,40,nl),W(" "+L(d.name),1)]))),128))]))}}),sl={key:0},ol=T({__name:"FiltersPanelControl",props:{prop:{},name:{},type:{},options:{},values:{}},emits:["close","update:values"],setup(e){return(l,t)=>e.type==="multi-select"?(h(),b("div",sl,[D(rl,{options:e.options,values:e.values,"onUpdate:values":t[0]||(t[0]=o=>l.$emit("update:values",{prop:e.prop,value:o}))},null,8,["options","values"])])):M("",!0)}}),al={class:"h-dvh md:border-l-2 border-black-300 md:w-80 flex-shrink-0 xl:w-[30rem] flex flex-col absolute inset-0 md:relative bg-black-400 z-50"},ul={class:"flex items-center w-full h-[69px] border-b-2 border-black-300 px-4 sticky top-0 text-black-100"},il={class:"h-[calc(100vh-69px)] py-4 pt-0 overflow-x-hidden"},cl=["onClick"],dl={class:"text-sm font-normal text-black-100"},fl=T({__name:"FiltersPanel",props:{filters:{},filtersValues:{}},emits:["close","set-filters","remove-filters"],setup(e){const l=y({});return(t,o)=>(h(),b("div",al,[w("div",ul,[w("button",{class:"ml-auto disabled:cursor-wait",onClick:o[0]||(o[0]=s=>t.$emit("close"))},[D(g(we),{class:"w-6 h-6 text-white"})])]),w("div",il,[w("div",null,[(h(!0),b(B,null,N(e.filters,s=>(h(),b("div",{key:s.prop},[w("button",{class:"sticky top-0 flex items-center justify-between w-full p-4 font-semibold text-gray-100 border-b-2 border-black-300 bg-black-400",onClick:r=>l.value[s.prop]=!l.value[s.prop]},[w("div",null,[W(L(s.name)+" ",1),w("span",dl,"("+L(e.filtersValues[s.prop]?.length?`${e.filtersValues[s.prop].length}/${s.options.length}`:s.options.length)+")",1)]),D(g(We),{class:q(["w-6 h-6 duration-300 text-black-200",{"rotate-180":l.value[s.prop]}])},null,8,["class"])],8,cl),l.value[s.prop]?(h(),b("div",{key:0,class:q(["p-4",{"border-b-2 border-black-300":l.value}])},[D(ol,{prop:s.prop,name:s.name,type:s.type,options:s.options,values:e.filtersValues[s.prop]??[],"onUpdate:values":o[1]||(o[1]=r=>t.$emit("set-filters",r))},null,8,["prop","name","type","options","values"])],2)):M("",!0)]))),128))])])]))}}),vl=({query:e})=>l=>Re(`list/${l}`,()=>{const t=Ne(),o=Ve(),s=je(),r=y(!1),n=y(""),a=y(""),c=y(1),u=y([]),d=y([]),m=y(0),i=y([]),f=y({});function v(){if(!a.value)return;const x=a.value==="price-asc"?1:-1;u.value.sort((P,F)=>{const O=s.prices[P.market_hash_name]??null,Z=s.prices[F.market_hash_name]??null;return O===null&&Z===null?0:O===null?1:Z===null?-1:(O-Z)*x})}function p(){c.value=1,d.value=u.value.slice(0,20)}async function k(){ce(),r.value=!0,c.value=1;try{const{items:x,filters:P}=await e({search:n.value,filters:f.value});u.value=x,v(),m.value=u.value.length,d.value=u.value.slice((c.value-1)*20,c.value*20),i.value=P??[]}catch(x){console.error(x instanceof Error?x.message:"An unknown error occurred")}finally{r.value=!1}}async function S(){c.value+=1,d.value.push(...u.value.slice((c.value-1)*20,c.value*20))}function C(x){ce(),n.value=x,k(),K()}function V({prop:x,value:P}){P.length===0?delete f.value[x]:f.value[x]=P,K()}function Pe(){f.value={},K()}function Me(x){a.value=x,v(),p(),K()}function ce(){d.value=[],u.value=[],m.value=0}function K(){const x={};Object.entries(t.query).forEach(([P,F])=>{F!=null&&(Array.isArray(F)?x[P]=F.filter(O=>O!==null):typeof F=="string"&&(x[P]=F))}),n.value.length?x.q=n.value:delete x.q,a.value?x.sort=a.value:delete x.sort,Object.entries(f.value).forEach(([P,F])=>{F.length?x[P]=F:delete x[P]}),o.push({query:x})}return ne(()=>{f.value={},n.value="",a.value="";const x=typeof t.query.q=="string"?t.query.q:"";n.value=x;const P=typeof t.query.sort=="string"?t.query.sort:"";(P==="price-asc"||P==="price-desc")&&(a.value=P),Object.entries(t.query).forEach(([F,O])=>{F!=="q"&&F!=="itemId"&&F!=="sort"&&O&&(typeof O=="string"?f.value[F]=O.includes(",")?O.split(","):[O]:Array.isArray(O)&&(f.value[F]=O))}),k()}),ge(()=>{qe()?._s?.forEach(x=>{x.$id===`list/${l}`&&(x.$dispose(),C(""))}),o.push({query:{}})}),{items:d,itemsCount:m,search:n,sortBy:a,loading:r,filters:i,filtersValues:f,fetch:k,loadMore:S,setSearch:C,setSortBy:Me,setFilters:V,removeFilters:Pe}});function ml(e){const{query:l,storeId:t,title:o,filterTransform:s}=e,r=Ue(),n=vl({query:l})(t)(),a=y(!1),c=I(()=>s?s(n.filters):n.filters);function u(){r.deleteItem(),a.value=!0}function d(){a.value=!1}function m(p){a.value=!1,r.getItemDetails(p)}function i({prop:p,value:k}){n.setFilters({prop:p,value:k}),n.fetch()}function f(){n.removeFilters(),n.fetch()}function v({prop:p,value:k}){const C=(n.filtersValues[p]??[]).filter(V=>V!==k);n.setFilters({prop:p,value:C}),n.fetch()}return _e(o),{items:I(()=>n.items),itemsCount:I(()=>n.itemsCount),loading:I(()=>n.loading),search:I(()=>n.search),filters:c,filtersValues:I(()=>n.filtersValues),hasFilters:I(()=>c.value.length>0),hasSelectedFilters:I(()=>Object.keys(n.filtersValues).length>0),showFilters:a,sortBy:I(()=>n.sortBy),setSortBy:n.setSortBy,setSearch:n.setSearch,loadMore:n.loadMore,openFilters:u,closeFilters:d,selectItem:m,setFilters:i,removeFilters:f,removeFilter:v}}const pl={class:"flex flex-row flex-1"},wl=T({__name:"BaseItemListView",props:{query:{},storeId:{},title:{},filterTransform:{type:Function,default:void 0},isVideo:{type:Boolean,default:!1}},setup(e){const l=e,t=ml({query:l.query,storeId:l.storeId,title:l.title,filterTransform:l.filterTransform});return(o,s)=>(h(),b("div",pl,[D(ll,{items:g(t).items.value,"items-count":g(t).itemsCount.value,loading:g(t).loading.value,search:g(t).search.value,"has-filters":g(t).hasFilters.value,"has-selected-filters":g(t).hasSelectedFilters.value,filters:g(t).filters.value,"filters-values":g(t).filtersValues.value,"is-video":e.isVideo,"sort-by":g(t).sortBy.value,onSetSortBy:s[0]||(s[0]=r=>g(t).setSortBy(r)),onSetQuery:s[1]||(s[1]=r=>g(t).setSearch(r)),onSelect:g(t).selectItem,onLoadMore:s[2]||(s[2]=r=>g(t).loadMore()),onOpenFilters:s[3]||(s[3]=r=>g(t).openFilters()),onRemoveFilter:g(t).removeFilter},null,8,["items","items-count","loading","search","has-filters","has-selected-filters","filters","filters-values","is-video","sort-by","onSelect","onRemoveFilter"]),g(t).showFilters.value?(h(),j(fl,{key:0,filters:g(t).filters.value,"filters-values":g(t).filtersValues.value,onSetFilters:g(t).setFilters,onRemoveFilters:g(t).removeFilters,onClose:s[4]||(s[4]=r=>g(t).closeFilters())},null,8,["filters","filters-values","onSetFilters","onRemoveFilters"])):M("",!0)]))}});export{wl as _};
