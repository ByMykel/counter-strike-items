import{c as g,_ as S,a as V}from"./FiltersPanel.vue_vue_type_script_setup_true_lang-DucYeKgH.js";import{d as h,u as _,H as k,j as w,c as x,k as y,a as C,e as D,i as $,l as b,g as l,o as n}from"./index-_JhBrj4c.js";import{u as I}from"./useTitle-u3Eu2tFA.js";import"./ItemsSkeleton.vue_vue_type_script_setup_true_lang-xWla0L0y.js";const B={class:"flex flex-row flex-1"},N=h({__name:"HomeView",setup(H){const a=_(),e=g({query:new k().query})("home")(),{isDebugMode:u}=y(),i=w(!1),o=x(()=>u.value?e.filters:e.filters.filter(s=>s.prop!=="image_domain"));function f(){a.deleteItem(),i.value=!0}function m(s){i.value=!1,a.getItemDetails(s)}function c({prop:s,value:t}){e.setFilters({prop:s,value:t}),e.fetch()}function v(){e.removeFilters(),e.fetch()}function d({prop:s,value:t}){const p=(e.filtersValues[s]??[]).filter(F=>F!==t);e.setFilters({prop:s,value:p}),e.fetch()}return I("All - Counter-Strike items"),(s,t)=>(n(),C("div",B,[D(S,{items:l(e).items,"items-count":l(e).itemsCount,loading:l(e).loading,search:l(e).search,"has-filters":o.value.length>0,"has-selected-filters":Object.keys(l(e).filtersValues).length>0,filters:o.value,"filters-values":l(e).filtersValues,onSetQuery:t[0]||(t[0]=r=>l(e).setSearch(r)),onSelect:m,onLoadMore:t[1]||(t[1]=r=>l(e).loadMore()),onOpenFilters:t[2]||(t[2]=r=>f()),onRemoveFilter:d},null,8,["items","items-count","loading","search","has-filters","has-selected-filters","filters","filters-values"]),i.value?(n(),$(V,{key:0,filters:o.value,"filters-values":l(e).filtersValues,onSetFilters:c,onRemoveFilters:v,onClose:t[3]||(t[3]=r=>i.value=!1)},null,8,["filters","filters-values"])):b("",!0)]))}});export{N as default};
