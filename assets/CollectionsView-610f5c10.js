import{c as p,_ as d}from"./ItemsList.vue_vue_type_script_setup_true_lang-35f98a9f.js";import{b as y,g as c,f as v,d as S,u as g,r as C,e as _,h,a as s,c as w,i as x,o as m}from"./index-9b63c1b9.js";import{_ as F}from"./FiltersPanel.vue_vue_type_script_setup_true_lang-4d1b28a3.js";class I{async query({search:r,filters:e}){let o=await y.get("https://raw.githubusercontent.com/ByMykel/CSGO-API/main/public/api/en/collections.json").then(a=>a.data);const i=[{prop:"crates",name:"Crate",type:"multi-select",options:c(o,{type:"fromNestedProperty",property:"crates"})},{prop:"contains",name:"Contains",type:"multi-select",options:c(o,{type:"fromNestedProperty",property:"contains"})}];return{items:v(o,r,e),filters:i}}}const k={class:"flex flex-row flex-1"},N=S({__name:"CollectionsView",setup(f){const r=g(),e=p({query:new I().query})("collections")(),o=C(!1);function i(){r.deleteItem(),o.value=!0}function a(l){o.value=!1,r.getItemDetails(l)}function u({prop:l,value:t}){e.setFilters({prop:l,value:t}),e.fetch()}return(l,t)=>(m(),_("div",k,[h(d,{items:s(e).items,"items-count":s(e).itemsCount,loading:s(e).loading,search:s(e).search,"has-filters":s(e).filters.length>0,onSetQuery:t[0]||(t[0]=n=>s(e).setSearch(n)),onSelect:a,onLoadMore:t[1]||(t[1]=n=>s(e).loadMore()),onOpenFilters:t[2]||(t[2]=n=>i())},null,8,["items","items-count","loading","search","has-filters"]),o.value?(m(),w(F,{key:0,filters:s(e).filters,"filters-values":s(e).filtersValues,onSetFilters:u,onClose:t[3]||(t[3]=n=>o.value=!1)},null,8,["filters","filters-values"])):x("",!0)]))}});export{N as default};
