import{u as l,c as u,_ as c}from"./ItemsList.vue_vue_type_script_setup_true_lang-cb74b9a3.js";import{a as m,d as f,u as h,c as d,b as r,o as S}from"./index-6ce166da.js";function g(o){let t=0;if(o.length===0)return t;for(let s=0;s<o.length;s++){const e=o.charCodeAt(s);t=(t<<5)-t+e,t&=t}return t}function p(o,t=""){let s=g(t);const e=i=>{const n=Math.sin(s++)*1e4;return Math.floor((n-Math.floor(n))*(i+1))};for(let i=o.length-1;i>0;i--){const n=e(i);[o[i],o[n]]=[o[n],o[i]]}return o}class w{async query(t){let s=await m.get("https://bymykel.github.io/CSGO-API/api/en/all.json").then(e=>Object.values(e.data));return t?(s=s.filter(e=>e.name.toLowerCase().includes(t.toLowerCase())),{items:s}):{items:p(s,new Date().toISOString().slice(0,10))}}}const M=f({__name:"HomeView",setup(o){const{fetchPrices:t}=l(),s=h(),e=u({query:new w().query})("home")();return e.fetch(),t(),(i,n)=>(S(),d(c,{items:r(e).items,"items-count":r(e).itemsCount,loading:r(e).loading,search:r(e).search,onSetQuery:n[0]||(n[0]=a=>r(e).setSearch(a)),onSelect:n[1]||(n[1]=a=>r(s).getItemDetails(a)),onLoadMore:n[2]||(n[2]=a=>r(e).loadMore())},null,8,["items","items-count","loading","search"]))}});export{M as default};
