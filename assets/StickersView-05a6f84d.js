import{c as y,_ as c}from"./ItemsList.vue_vue_type_script_setup_true_lang-e8d4d571.js";import{b as d,g as o,f as _,d as v,u as S,r as g,e as k,h as P,a as s,c as h,i as w,o as m}from"./index-efffa35b.js";import{_ as x}from"./FiltersPanel.vue_vue_type_script_setup_true_lang-547216d9.js";class C{async query({search:n,filters:e}){let t=await d.get("https://raw.githubusercontent.com/ByMykel/CSGO-API/main/public/api/en/stickers.json").then(l=>l.data);const p=[{prop:"rarity",name:"Rarity",type:"multi-select",options:o(t,{type:"fromNestedSingleProperty",property:"rarity"})},{prop:"crates",name:"Crate",type:"multi-select",options:o(t,{type:"fromNestedProperty",property:"crates"})},{prop:"type",name:"Type",type:"multi-select",options:o(t,{type:"fromProperty",property:"type"})},{prop:"effect",name:"Effect",type:"multi-select",options:o(t,{type:"fromProperty",property:"effect"})},{prop:"tournament_event",name:"Tournament",type:"multi-select",options:o(t,{type:"fromProperty",property:"tournament_event"})},{prop:"tournament_team",name:"Team",type:"multi-select",options:o(t,{type:"fromProperty",property:"tournament_team"})},{prop:"tournament_player",name:"Player",type:"multi-select",options:o(t,{type:"fromProperty",property:"tournament_player"})}];return{items:_(t,n,e),filters:p}}}const F={class:"flex flex-row flex-1"},L=v({__name:"StickersView",setup(f){const n=S(),e=y({query:new C().query})("stickers")(),t=g(!1);function p(){n.deleteItem(),t.value=!0}function l(a){t.value=!1,n.getItemDetails(a)}function u({prop:a,value:r}){e.setFilters({prop:a,value:r}),e.fetch()}return(a,r)=>(m(),k("div",F,[P(c,{items:s(e).items,"items-count":s(e).itemsCount,loading:s(e).loading,search:s(e).search,"has-filters":s(e).filters.length>0,onSetQuery:r[0]||(r[0]=i=>s(e).setSearch(i)),onSelect:l,onLoadMore:r[1]||(r[1]=i=>s(e).loadMore()),onOpenFilters:r[2]||(r[2]=i=>p())},null,8,["items","items-count","loading","search","has-filters"]),t.value?(m(),h(x,{key:0,filters:s(e).filters,"filters-values":s(e).filtersValues,onSetFilters:u,onClose:r[3]||(r[3]=i=>t.value=!1)},null,8,["filters","filters-values"])):w("",!0)]))}});export{L as default};
