import{a as le,v as se}from"./vueuse-DFZpnpvQ.js";import{y as u,A as o,z as n,d as _,r as y,f as ne,G as P,E as k,P as A,J as B,x as v,N as O,L as T,H as L,O as N,_ as U,$ as re,F as D,I as E,c as V,o as J,K as ae,B as oe,C as ie,D as ue,b as ce,a0 as de}from"./vue-vendor-BDz4696B.js";import{g as fe,S as ve,b as me,M as pe}from"./ui-vendor-bxvKqp2Z.js";import{b as X,d as he,u as be}from"./index-C6K9UzRG.js";import{a as ge,_ as ye}from"./ItemsSkeleton.vue_vue_type_script_setup_true_lang-CgMBgDvQ.js";import{u as xe}from"./useTitle-BFdHc6BK.js";function ke(e,d){return n(),u("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 7.5 7.5 3m0 0L12 7.5M7.5 3v13.5m13.5 0L16.5 21m0 0L12 16.5m4.5 4.5V7.5"})])}function we(e,d){return n(),u("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})])}function $e(e,d){return n(),u("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"})])}function Fe(e,d){return n(),u("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})])}const Se={class:"relative"},Ve={class:"absolute left-0 flex items-center h-full px-2"},Ce={class:"absolute right-0 flex items-center h-full gap-2 px-3"},Be={key:0,class:"px-2 text-sm text-white rounded-md bg-black-200 hidden sm:block"},Me={class:"font-semibold"},Ie={key:1,class:"w-20 h-6 px-2 rounded-md bg-black-200 animate-pulse"},qe={key:2,class:"w-0.5 h-[calc(100%-20px)] rounded-full bg-black-200/20"},Le={key:0,class:"absolute top-1 right-1 bg-[#ff5e65] size-2 rounded-full"},_e=["onClick"],je={key:0,class:"absolute top-1 right-1 bg-[#ff5e65] size-2 rounded-full"},De={key:0,class:"flex gap-2 overflow-x-auto pb-0.5"},Ee={class:""},Oe={class:"flex items-center gap-1 flex-wrap"},Pe=["onClick"],ze=_({__name:"SearchBar",props:{query:{},total:{},scrolledDown:{type:Boolean},hasFilters:{type:Boolean},hasSelectedFilters:{type:Boolean},sortBy:{},loading:{type:Boolean},filters:{},filtersValues:{}},emits:["input","open-filters","remove-filter","set-sort-by"],setup(e,{emit:d}){const t=[{value:"",label:"Default"},{value:"price-asc",label:"Price: Low to High"},{value:"price-desc",label:"Price: High to Low"}],p=e,l=d,i=y(p.query||"");return ne(()=>p.query,r=>{i.value=r}),(r,c)=>(n(),u("div",{class:P(["sticky top-0 left-0 right-0 px-5 pt-3 pb-2 duration-300 z-10 gap-2 flex flex-col",[e.scrolledDown?"bg-black-300 shadow-lg":"bg-transparent"]])},[o("div",Se,[o("div",Ve,[B(v(Fe),{class:"w-6 h-6 text-black-200"})]),o("div",Ce,[e.loading?(n(),u("div",Ie)):(n(),u("p",Be,[c[3]||(c[3]=T(" total ",-1)),o("span",Me,L(e.total),1)])),e.loading?k("",!0):(n(),u("div",qe)),e.loading?k("",!0):(n(),O(v(fe),{key:3,as:"div",class:"relative"},{default:N(()=>[B(v(ve),{class:"p-1 rounded-md hover:bg-black-200 relative"},{default:N(()=>[B(v(ke),{class:"w-6 h-6 text-black-100"}),e.sortBy?(n(),u("div",Le)):k("",!0)]),_:1}),B(v(pe),{class:"absolute right-0 top-full mt-2 w-44 rounded-lg border border-black-200/20 bg-black-400 shadow-xl z-20 p-1 focus:outline-none"},{default:N(()=>[(n(),u(D,null,E(t,a=>B(v(me),{key:a.value},{default:N(({active:s})=>[o("button",{type:"button",class:P(["w-full text-left px-3 py-1.5 text-sm rounded-md",[e.sortBy===a.value?"text-[#ff5e65] font-medium":"text-gray-300",s?"bg-black-300":""]]),onClick:f=>l("set-sort-by",a.value)},L(a.label),11,_e)]),_:2},1024)),64))]),_:1})]),_:1})),e.hasFilters&&!e.loading?(n(),u("button",{key:4,type:"button",class:"p-1 rounded-md hover:bg-black-200 relative",onClick:c[0]||(c[0]=a=>r.$emit("open-filters"))},[B(v($e),{class:"w-6 h-6 text-black-100"}),e.hasSelectedFilters?(n(),u("div",je)):k("",!0)])):k("",!0)]),A(o("input",{"onUpdate:modelValue":c[1]||(c[1]=a=>i.value=a),class:"w-full h-full py-4 pl-12 pr-36 sm:pr-60 text-white border-0 rounded-md outline-none bg-black-300 focus:outline-none sm:text-sm focus:ring-2 focus:ring-[#ff5e65] focus:border-transparent",type:"text",placeholder:"Search...",onKeyup:c[2]||(c[2]=re(a=>r.$emit("input",i.value),["enter"]))},null,544),[[U,i.value]])]),e.hasSelectedFilters?(n(),u("div",De,[(n(!0),u(D,null,E(e.filtersValues,(a,s)=>(n(),u("div",{key:s,class:"flex items-center gap-1 text-sm p-1 flex-shrink-0 text-white rounded-md bg-black-300"},[o("div",Ee,L(e.filters.find(f=>f.prop===s)?.name||s),1),o("div",Oe,[(n(!0),u(D,null,E(a,f=>(n(),u("button",{key:f,type:"button",class:"text-white bg-black-200 px-1 rounded-md flex items-center gap-1",onClick:F=>r.$emit("remove-filter",{prop:s,value:f})},[B(v(X),{class:"size-4 text-white"}),T(" "+L(e.filters.find(F=>F.prop===s)?.options.find(F=>F.id===f)?.name||f),1)],8,Pe))),128))])]))),128))])):k("",!0)],2))}}),Ae={class:"flex flex-col"},Re=["src","alt"],Ne={key:0,class:"absolute inset-0 bg-black-300 rounded-md animate-pulse"},Te={key:1,class:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-20 rounded-md"},Ue=["src"],Qe=["title"],He=_({__name:"ItemVideo",props:{name:{},video:{},thumbnail:{}},emits:["show"],setup(e){const d=y(!1),t=y(!1);function p(){d.value=!0}return(l,i)=>(n(),u("div",Ae,[d.value?k("",!0):(n(),u("div",{key:0,class:"relative w-full aspect-video rounded-md cursor-pointer bg-gray-800",onClick:p},[o("img",{src:e.thumbnail,alt:e.name,class:"w-full h-full object-cover rounded-md",loading:"lazy",onLoad:i[0]||(i[0]=r=>t.value=!0),onError:i[1]||(i[1]=r=>t.value=!0)},null,40,Re),t.value?k("",!0):(n(),u("div",Ne)),t.value?(n(),u("div",Te,[...i[2]||(i[2]=[o("div",{class:"w-16 h-16 bg-white bg-opacity-90 rounded-full flex items-center justify-center hover:bg-opacity-100 transition-all"},[o("svg",{class:"w-8 h-8 text-black ml-1",fill:"currentColor",viewBox:"0 0 24 24"},[o("path",{d:"M8 5v14l11-7z"})])],-1)])])):k("",!0)])),d.value?(n(),u("video",{key:1,class:"object-cover w-full h-full rounded-md",src:e.video,autoplay:"",muted:"",playsinline:"",controls:""},null,8,Ue)):k("",!0),o("div",null,[o("p",{class:"text-sm truncate px-0.5 mt-1.5 text-white",title:e.name},L(e.name),9,Qe)])]))}}),Ke={class:"relative flex-1 w-full"},Ze={key:3,class:"py-10"},Ge=_({__name:"ItemsList",props:{items:{},itemsCount:{},loading:{type:Boolean},search:{},sortBy:{default:""},hasFilters:{type:Boolean,default:!1},hasSelectedFilters:{type:Boolean,default:!1},filters:{},filtersValues:{},isVideo:{type:Boolean,default:!1},hasSearch:{type:Boolean,default:!0}},emits:["set-query","set-sort-by","select","load-more","open-filters","remove-filter"],setup(e,{emit:d}){const t=d,p=y(null),{y:l}=le(p),i=y(!1);function r(c){i.value=c,c===!0&&t("load-more")}return(c,a)=>(n(),u("div",Ke,[e.hasSearch?(n(),O(ze,{key:0,query:e.search,"scrolled-down":v(l)>40,total:e.itemsCount,loading:e.loading,"has-filters":e.hasFilters,"has-selected-filters":e.hasSelectedFilters,"sort-by":e.sortBy,filters:e.filters,"filters-values":e.filtersValues,onInput:a[0]||(a[0]=s=>c.$emit("set-query",s)),onSetSortBy:a[1]||(a[1]=s=>c.$emit("set-sort-by",s)),onOpenFilters:a[2]||(a[2]=s=>c.$emit("open-filters")),onRemoveFilter:a[3]||(a[3]=s=>c.$emit("remove-filter",s))},null,8,["query","scrolled-down","total","loading","has-filters","has-selected-filters","sort-by","filters","filters-values"])):k("",!0),o("div",{ref_key:"el",ref:p,class:P(["grid w-full gap-3 p-4 px-5 pb-32 mx-auto overflow-y-scroll h-[calc(100vh-69px)]",{"grid-cols-1 lg:grid-cols-2 xl:grid-cols-3":e.isVideo,"items-grid-small md:items-grid":!e.isVideo}])},[e.isVideo?(n(!0),u(D,{key:1},E(e.items,s=>(n(),O(He,{key:s.id,name:s.name,video:s.video,thumbnail:s.thumbnail},null,8,["name","video","thumbnail"]))),128)):(n(!0),u(D,{key:0},E(e.items,s=>(n(),O(ye,{id:s.id,key:s.id,name:s.name,image:s.image,souvenir:s?.souvenir??!1,stattrak:s?.stattrak??!1,genuine:s?.genuine??!1,phase:s?.phase??null,"market-hash-name":s.market_hash_name,onShow:f=>c.$emit("select",s.id)},null,8,["id","name","image","souvenir","stattrak","genuine","phase","market-hash-name","onShow"]))),128)),e.loading?(n(),O(ge,{key:2})):k("",!0),e.loading?k("",!0):A((n(),u("div",Ze,null,512)),[[v(se),r]])],2)]))}}),Je=["value","checked","onChange"],Xe=_({__name:"MultiSelectFilter",props:{options:{},values:{}},emits:["update:values"],setup(e,{emit:d}){const t=e,p=d,l=y(""),i=V(()=>t.options.filter(a=>a.name.toLocaleLowerCase().includes(l.value.toLocaleLowerCase()))),r=a=>{const s=t.values,f=s.indexOf(a);f===-1?s.push(a):s.splice(f,1),p("update:values",s)},c=a=>t.values.includes(a);return(a,s)=>(n(),u("div",null,[A(o("input",{"onUpdate:modelValue":s[0]||(s[0]=f=>l.value=f),class:"w-full h-full py-3 text-white rounded-md outline-none bg-black-300 border-2 border-black-300 focus:outline-none mb-4 sm:text-sm focus:ring-2 focus:ring-[#ff5e65] focus:border-transparent",type:"text",placeholder:"Search to filter..."},null,512),[[U,l.value]]),(n(!0),u(D,null,E(i.value,f=>(n(),u("label",{key:f.id,class:"flex items-center gap-2 p-2 text-gray-300 rounded-md cursor-pointer hover:bg-black-300"},[o("input",{type:"checkbox",class:"w-4 h-4 text-[#ff5e65] border-gray-300 rounded focus:ring-[#ff5e65]",value:f.id,checked:c(f.id),onChange:F=>r(f.id)},null,40,Je),T(" "+L(f.name),1)]))),128))]))}}),We={class:"flex flex-col gap-4"},Ye={class:"px-1 pt-2 pb-4"},et={class:"relative h-1.5"},tt=["value"],lt=["value"],st={class:"flex items-center gap-3"},nt={class:"relative flex-1"},rt={class:"relative flex-1"},I=3e5,z=100,at=_({__name:"PriceRangeFilter",props:{values:{}},emits:["update:values"],setup(e,{emit:d}){const t=e,p=d,l=y(""),i=y(""),r=V(()=>{const g=parseFloat(l.value);return g?Math.round(g*100):0}),c=V(()=>{const g=parseFloat(i.value);return g?Math.round(g*100):0}),a=V(()=>Math.min(r.value,I)),s=V(()=>c.value?Math.min(c.value,I):I),f=V(()=>{const g=a.value/I*100,h=100-s.value/I*100;return{left:`${g}%`,right:`${h}%`}});J(()=>{if(t.values.length===2){const g=Number(t.values[0]),h=Number(t.values[1]);g&&(l.value=(g/100).toFixed(2)),h&&(i.value=(h/100).toFixed(2))}});function F(g){const h=parseInt(g.target.value),S=Math.min(h,s.value-z);l.value=S<=0?"":(S/100).toFixed(2),$()}function q(g){const h=parseInt(g.target.value),S=Math.max(h,a.value+z);i.value=S>=I?"":(S/100).toFixed(2),$()}function j(){$()}function C(){l.value="",i.value="",$()}function $(){if(!r.value&&!c.value){p("update:values",[]);return}p("update:values",[String(r.value),String(c.value)])}return(g,h)=>(n(),u("div",We,[o("div",Ye,[o("div",et,[h[2]||(h[2]=o("div",{class:"absolute w-full h-full rounded-full bg-black-300"},null,-1)),o("div",{class:"absolute h-full rounded-full bg-[#ff5e65]",style:ae(f.value)},null,4),o("input",{type:"range",min:0,max:I,step:z,value:a.value,"aria-label":"Minimum price",class:P(["slider-thumb",{"z-[5]":a.value>I-z}]),onInput:F},null,42,tt),o("input",{type:"range",min:0,max:I,step:z,value:s.value,"aria-label":"Maximum price",class:"slider-thumb",onInput:q},null,40,lt)])]),o("div",st,[o("div",nt,[h[3]||(h[3]=o("span",{class:"absolute text-sm text-black-100 left-3 top-1/2 -translate-y-1/2 pointer-events-none select-none"},"$",-1)),A(o("input",{"onUpdate:modelValue":h[0]||(h[0]=S=>l.value=S),class:"w-full py-2 pl-7 pr-3 text-white text-sm rounded-md bg-black-300 border-2 border-black-300 outline-none focus:ring-2 focus:ring-[#ff5e65] focus:border-transparent placeholder:text-black-200 no-spinner",type:"number",min:"0",step:"0.01",placeholder:"Min",onInput:j},null,544),[[U,l.value]])]),h[5]||(h[5]=o("span",{class:"text-xs text-black-200 select-none"},"to",-1)),o("div",rt,[h[4]||(h[4]=o("span",{class:"absolute text-sm text-black-100 left-3 top-1/2 -translate-y-1/2 pointer-events-none select-none"},"$",-1)),A(o("input",{"onUpdate:modelValue":h[1]||(h[1]=S=>i.value=S),class:"w-full py-2 pl-7 pr-3 text-white text-sm rounded-md bg-black-300 border-2 border-black-300 outline-none focus:ring-2 focus:ring-[#ff5e65] focus:border-transparent placeholder:text-black-200 no-spinner",type:"number",min:"0",step:"0.01",placeholder:"Max",onInput:j},null,544),[[U,i.value]])])]),l.value||i.value?(n(),u("button",{key:0,class:"self-end text-xs text-black-100 hover:text-white transition-colors cursor-pointer",onClick:C}," Clear ")):k("",!0)]))}}),ot=(e,d)=>{const t=e.__vccOpts||e;for(const[p,l]of d)t[p]=l;return t},it=ot(at,[["__scopeId","data-v-9ca18a7c"]]),ut={key:0},ct={key:1},dt=_({__name:"FiltersPanelControl",props:{prop:{},name:{},type:{},options:{},values:{}},emits:["close","update:values"],setup(e){return(d,t)=>e.type==="multi-select"?(n(),u("div",ut,[B(Xe,{options:e.options,values:e.values,"onUpdate:values":t[0]||(t[0]=p=>d.$emit("update:values",{prop:e.prop,value:p}))},null,8,["options","values"])])):e.type==="price-range"?(n(),u("div",ct,[B(it,{values:e.values,"onUpdate:values":t[1]||(t[1]=p=>d.$emit("update:values",{prop:e.prop,value:p}))},null,8,["values"])])):k("",!0)}}),ft={class:"h-dvh md:border-l-2 border-black-300 md:w-80 flex-shrink-0 xl:w-[30rem] flex flex-col absolute inset-0 md:relative bg-black-400 z-50"},vt={class:"flex items-center w-full h-[69px] border-b-2 border-black-300 px-4 sticky top-0 text-black-100"},mt={class:"h-[calc(100vh-69px)] py-4 pt-0 overflow-x-hidden"},pt=["onClick"],ht={key:0,class:"text-sm font-normal text-black-100"},bt=_({__name:"FiltersPanel",props:{filters:{},filtersValues:{}},emits:["close","set-filters","remove-filters"],setup(e){const d=y({price_range:!0});return(t,p)=>(n(),u("div",ft,[o("div",vt,[o("button",{class:"ml-auto disabled:cursor-wait",onClick:p[0]||(p[0]=l=>t.$emit("close"))},[B(v(X),{class:"w-6 h-6 text-white"})])]),o("div",mt,[o("div",null,[(n(!0),u(D,null,E(e.filters,l=>(n(),u("div",{key:l.prop},[o("button",{class:"sticky top-0 flex items-center justify-between w-full p-4 font-semibold text-gray-100 border-b-2 border-black-300 bg-black-400",onClick:i=>d.value[l.prop]=!d.value[l.prop]},[o("div",null,[T(L(l.name)+" ",1),l.type!=="price-range"?(n(),u("span",ht,"("+L(e.filtersValues[l.prop]?.length?`${e.filtersValues[l.prop].length}/${l.options.length}`:l.options.length)+")",1)):k("",!0)]),B(v(we),{class:P(["w-6 h-6 duration-300 text-black-200",{"rotate-180":d.value[l.prop]}])},null,8,["class"])],8,pt),d.value[l.prop]?(n(),u("div",{key:0,class:P(["p-4",{"border-b-2 border-black-300":d.value}])},[B(dt,{prop:l.prop,name:l.name,type:l.type,options:l.options,values:e.filtersValues[l.prop]??[],"onUpdate:values":p[1]||(p[1]=i=>t.$emit("set-filters",i))},null,8,["prop","name","type","options","values"])],2)):k("",!0)]))),128))])])]))}}),gt=({query:e})=>d=>oe(`list/${d}`,()=>{const t=ie(),p=ue(),l=he(),i=y(!1),r=y(""),c=y(""),a=y(1),s=y([]),f=y([]),F=y([]),q=y(0),j=y([]),C=y({});function $(){if(!c.value)return;const m=c.value==="price-asc"?1:-1;f.value.sort((x,b)=>{const w=l.prices[x.market_hash_name]??null,M=l.prices[b.market_hash_name]??null;return w===null&&M===null?0:w===null?1:M===null?-1:(w-M)*m})}function g(){a.value=1,F.value=f.value.slice(0,20)}function h(){const m=C.value.price_range;if(m?.length===2){const[x,b]=m.map(Number);f.value=s.value.filter(w=>{const M=l.prices[w.market_hash_name];return!(M==null||x&&M<x||b&&M>b)})}else f.value=[...s.value];$(),q.value=f.value.length,g()}async function S(){Z(),i.value=!0,a.value=1;try{const{price_range:m,...x}=C.value,{items:b,filters:w}=await e({search:r.value,filters:x});if(s.value=b,f.value=[...b],m?.length===2){const[M,G]=m.map(Number);f.value=f.value.filter(te=>{const H=l.prices[te.market_hash_name];return!(H==null||M&&H<M||G&&H>G)})}$(),q.value=f.value.length,F.value=f.value.slice((a.value-1)*20,a.value*20),j.value=w??[]}catch(m){console.error(m instanceof Error?m.message:"An unknown error occurred")}finally{i.value=!1}}async function Q(){a.value+=1,F.value.push(...f.value.slice((a.value-1)*20,a.value*20))}function K(m){Z(),r.value=m,S(),R()}function W({prop:m,value:x}){x.length===0?delete C.value[m]:C.value[m]=x,R()}function Y(){C.value={},R()}function ee(m){c.value=m,$(),g(),R()}function Z(){F.value=[],f.value=[],s.value=[],q.value=0}function R(){const m={};Object.entries(t.query).forEach(([x,b])=>{b!=null&&(Array.isArray(b)?m[x]=b.filter(w=>w!==null):typeof b=="string"&&(m[x]=b))}),r.value.length?m.q=r.value:delete m.q,c.value?m.sort=c.value:delete m.sort,Object.entries(C.value).forEach(([x,b])=>{b.length?m[x]=b:delete m[x]}),p.push({query:m})}return J(()=>{C.value={},r.value="",c.value="";const m=typeof t.query.q=="string"?t.query.q:"";r.value=m;const x=typeof t.query.sort=="string"?t.query.sort:"";(x==="price-asc"||x==="price-desc")&&(c.value=x),Object.entries(t.query).forEach(([b,w])=>{b!=="q"&&b!=="itemId"&&b!=="sort"&&w&&(typeof w=="string"?C.value[b]=w.includes(",")?w.split(","):[w]:Array.isArray(w)&&(C.value[b]=w))}),S()}),ce(()=>{de()?._s?.forEach(m=>{m.$id===`list/${d}`&&(m.$dispose(),K(""))}),p.push({query:{}})}),{items:F,itemsCount:q,search:r,sortBy:c,loading:i,filters:j,filtersValues:C,fetch:S,applyPriceFilter:h,loadMore:Q,setSearch:K,setSortBy:ee,setFilters:W,removeFilters:Y}});function yt(e){const{query:d,storeId:t,title:p,filterTransform:l}=e,i=be(),r=gt({query:d})(t)(),c=y(!1),a=V(()=>l?l(r.filters):r.filters);function s(){i.deleteItem(),c.value=!0}function f(){c.value=!1}function F($){c.value=!1,i.getItemDetails($)}function q({prop:$,value:g}){r.setFilters({prop:$,value:g}),$==="price_range"?r.applyPriceFilter():r.fetch()}function j(){r.removeFilters(),r.fetch()}function C({prop:$,value:g}){const S=(r.filtersValues[$]??[]).filter(Q=>Q!==g);r.setFilters({prop:$,value:S}),r.fetch()}return xe(p),{items:V(()=>r.items),itemsCount:V(()=>r.itemsCount),loading:V(()=>r.loading),search:V(()=>r.search),filters:a,filtersValues:V(()=>r.filtersValues),hasFilters:V(()=>a.value.length>0),hasSelectedFilters:V(()=>Object.keys(r.filtersValues).length>0),showFilters:c,sortBy:V(()=>r.sortBy),setSortBy:r.setSortBy,setSearch:r.setSearch,loadMore:r.loadMore,openFilters:s,closeFilters:f,selectItem:F,setFilters:q,removeFilters:j,removeFilter:C}}const xt={class:"flex flex-row flex-1"},Ct=_({__name:"BaseItemListView",props:{query:{},storeId:{},title:{},filterTransform:{type:Function,default:void 0},isVideo:{type:Boolean,default:!1}},setup(e){const d=e,t=yt({query:d.query,storeId:d.storeId,title:d.title,filterTransform:d.filterTransform});return(p,l)=>(n(),u("div",xt,[B(Ge,{items:v(t).items.value,"items-count":v(t).itemsCount.value,loading:v(t).loading.value,search:v(t).search.value,"has-filters":v(t).hasFilters.value,"has-selected-filters":v(t).hasSelectedFilters.value,filters:v(t).filters.value,"filters-values":v(t).filtersValues.value,"is-video":e.isVideo,"sort-by":v(t).sortBy.value,onSetSortBy:l[0]||(l[0]=i=>v(t).setSortBy(i)),onSetQuery:l[1]||(l[1]=i=>v(t).setSearch(i)),onSelect:v(t).selectItem,onLoadMore:l[2]||(l[2]=i=>v(t).loadMore()),onOpenFilters:l[3]||(l[3]=i=>v(t).openFilters()),onRemoveFilter:v(t).removeFilter},null,8,["items","items-count","loading","search","has-filters","has-selected-filters","filters","filters-values","is-video","sort-by","onSelect","onRemoveFilter"]),v(t).showFilters.value?(n(),O(bt,{key:0,filters:v(t).filters.value,"filters-values":v(t).filtersValues.value,onSetFilters:v(t).setFilters,onRemoveFilters:v(t).removeFilters,onClose:l[4]||(l[4]=i=>v(t).closeFilters())},null,8,["filters","filters-values","onSetFilters","onRemoveFilters"])):k("",!0)]))}});export{Ct as _};
