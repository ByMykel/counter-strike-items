import{o,h as r,k as a,d as g,r as C,l as x,w as O,v as F,F as m,m as h,n as k,p as f,j as p,i as b,a as $,q as S,s as _}from"./index-DcKkInPo.js";function j(v,l){return o(),r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})])}const B=["placeholder"],N=["value","checked","onChange"],U={key:0,class:"my-2 border-t-2 border-dashed border-black-300"},z=["value","checked","onChange"],D=g({__name:"MultiSelectFilter",props:{options:{},values:{}},emits:["update:values"],setup(v,{emit:l}){const t=v,u=l,e=C(""),c=x(()=>t.options.filter(n=>t.values.includes(n.id)?!1:n.name.toLocaleLowerCase().includes(e.value.toLocaleLowerCase()))),i=x(()=>t.options.filter(n=>t.values.includes(n.id)?n.name.toLocaleLowerCase().includes(e.value.toLocaleLowerCase()):!1)),y=n=>{const d=t.values,s=d.indexOf(n);s===-1?d.push(n):d.splice(s,1),u("update:values",d)},w=n=>t.values.includes(n);function V(){u("update:values",[])}return(n,d)=>(o(),r("div",null,[O(a("input",{"onUpdate:modelValue":d[0]||(d[0]=s=>e.value=s),class:"w-full h-full py-3 text-white rounded-md outline-none bg-black-300 border-2 border-black-300 focus:outline-none mb-4 sm:text-sm focus:ring-2 focus:ring-[#ff5e65] focus:border-transparent",type:"text",placeholder:n.$t("filter_search")},null,8,B),[[F,e.value]]),i.value.length?(o(),r(m,{key:0},[a("button",{type:"button",class:"w-full py-1 mb-2 text-red-800 rounded-md bg-red-900/20 hover:bg-red-900/30",onClick:d[1]||(d[1]=s=>V())}," Remove all selected "),(o(!0),r(m,null,h(i.value,s=>(o(),r("label",{key:s.id,class:"flex items-center gap-2 p-2 text-gray-300 rounded-md cursor-pointer hover:bg-black-300"},[a("input",{type:"checkbox",class:"w-4 h-4 text-[#ff5e65] border-gray-300 rounded focus:ring-[#ff5e65]",value:s.id,checked:w(s.id),onChange:L=>y(s.id)},null,40,N),k(" "+f(s.name),1)]))),128)),i.value.length&&c.value.length?(o(),r("div",U)):p("",!0)],64)):p("",!0),(o(!0),r(m,null,h(c.value,s=>(o(),r("label",{key:s.id,class:"flex items-center gap-2 p-2 text-gray-300 rounded-md cursor-pointer hover:bg-black-300"},[a("input",{type:"checkbox",class:"w-4 h-4 text-[#ff5e65] border-gray-300 rounded focus:ring-[#ff5e65]",value:s.id,checked:w(s.id),onChange:L=>y(s.id)},null,40,z),k(" "+f(s.name),1)]))),128))]))}}),M={key:0},P=g({__name:"FiltersPanelControl",props:{prop:{},name:{},type:{},options:{},values:{}},emits:["close","update:values"],setup(v){return(l,t)=>l.type==="multi-select"?(o(),r("div",M,[b(D,{options:l.options,values:l.values,"onUpdate:values":t[0]||(t[0]=u=>l.$emit("update:values",{prop:l.prop,value:u}))},null,8,["options","values"])])):p("",!0)}}),R={class:"h-dvh md:border-l-2 border-black-300 md:w-80 xl:w-[30rem] flex flex-col absolute inset-0 md:relative bg-black-400 z-50"},T={class:"flex items-center w-full h-[69px] border-b-2 border-black-300 px-4 sticky top-0 text-black-100"},q={class:"h-[calc(100vh-69px)] py-4 pt-0 overflow-x-hidden"},E=["onClick"],A={class:"text-sm font-normal text-black-100"},H=g({__name:"FiltersPanel",props:{filters:{},filtersValues:{}},emits:["close","set-filters","remove-filters"],setup(v){const l=C({});return(t,u)=>(o(),r("div",R,[a("div",T,[a("button",{class:"ml-auto disabled:cursor-wait",onClick:u[0]||(u[0]=e=>t.$emit("close"))},[b($(S),{class:"w-6 h-6 text-white"})])]),a("div",q,[Object.keys(t.filtersValues).length>0?(o(),r("button",{key:0,type:"button",class:"w-full py-2 mb-2 font-semibold text-red-800 border-y-2 border-red-800/20 bg-red-900/20 hover:bg-red-900/30",onClick:u[1]||(u[1]=e=>t.$emit("remove-filters"))}," Remove all selected ")):p("",!0),a("div",null,[(o(!0),r(m,null,h(t.filters,e=>{var c;return o(),r("div",{key:e.prop},[a("button",{class:"sticky top-0 flex items-center justify-between w-full p-4 font-semibold text-gray-100 border-b-2 border-black-300 bg-black-400",onClick:i=>l.value[e.prop]=!l.value[e.prop]},[a("div",null,[k(f(e.name)+" ",1),a("span",A,"("+f((c=t.filtersValues[e.prop])!=null&&c.length?`${t.filtersValues[e.prop].length}/${e.options.length}`:e.options.length)+")",1)]),b($(j),{class:_(["w-6 h-6 duration-300 text-black-200",{"rotate-180":l.value[e.prop]}])},null,8,["class"])],8,E),l.value[e.prop]?(o(),r("div",{key:0,class:_(["p-4",{"border-b-2 border-black-300":l.value}])},[b(P,{prop:e.prop,name:e.name,type:e.type,options:e.options,values:t.filtersValues[e.prop]??[],"onUpdate:values":u[2]||(u[2]=i=>t.$emit("set-filters",i))},null,8,["prop","name","type","options","values"])],2)):p("",!0)])}),128))])])]))}});export{H as _};
