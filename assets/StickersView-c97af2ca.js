import{c as u,_ as c}from"./ItemsList.vue_vue_type_script_setup_true_lang-4c788c47.js";import{b as d,g as o,f as _,d as v,u as S,r as g,e as k,h as P,a as s,c as h,i as x,o as m}from"./index-74c56bc0.js";import{_ as C}from"./FiltersPanel.vue_vue_type_script_setup_true_lang-34475b65.js";class F{async query({search:n,filters:e}){let t=await d.get("https://bymykel.github.io/CSGO-API/api/en/stickers.json").then(l=>l.data);const p=[{prop:"rarity",name:"Rarity",type:"multi-select",options:o(t,{type:"fromNestedSingleProperty",property:"rarity"})},{prop:"crates",name:"Crate",type:"multi-select",options:o(t,{type:"fromNestedProperty",property:"crates"})},{prop:"type",name:"Type",type:"multi-select",options:o(t,{type:"fromProperty",property:"type"})},{prop:"effect",name:"Effect",type:"multi-select",options:o(t,{type:"fromProperty",property:"effect"})},{prop:"tournament_event",name:"Tournament",type:"multi-select",options:o(t,{type:"fromProperty",property:"tournament_event"})},{prop:"tournament_team",name:"Team",type:"multi-select",options:o(t,{type:"fromProperty",property:"tournament_team"})},{prop:"tournament_player",name:"Player",type:"multi-select",options:o(t,{type:"fromProperty",property:"tournament_player"})}];return{items:_(t,n,e),filters:p}}}const I={class:"flex flex-row flex-1"},N=v({__name:"StickersView",setup(f){const n=S(),e=u({query:new F().query})("stickers")(),t=g(!1);function p(){n.deleteItem(),t.value=!0}function l(a){t.value=!1,n.getItemDetails(a)}function y({prop:a,value:r}){e.setFilters({prop:a,value:r}),e.fetch()}return(a,r)=>(m(),k("div",I,[P(c,{items:s(e).items,"items-count":s(e).itemsCount,loading:s(e).loading,search:s(e).search,"has-filters":s(e).filters.length>0,onSetQuery:r[0]||(r[0]=i=>s(e).setSearch(i)),onSelect:l,onLoadMore:r[1]||(r[1]=i=>s(e).loadMore()),onOpenFilters:r[2]||(r[2]=i=>p())},null,8,["items","items-count","loading","search","has-filters"]),t.value?(m(),h(C,{key:0,filters:s(e).filters,"filters-values":s(e).filtersValues,onSetFilters:y,onClose:r[3]||(r[3]=i=>t.value=!1)},null,8,["filters","filters-values"])):x("",!0)]))}});export{N as default};
