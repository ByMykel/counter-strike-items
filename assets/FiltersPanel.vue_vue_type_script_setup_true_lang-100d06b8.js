import{o as r,e as n,j as o,d as g,r as C,k as x,w as F,v as O,F as v,l as h,m as k,t as b,i as f,h as m,a as _,n as S,p as $}from"./index-396196b6.js";function j(c,l){return r(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})])}const B=["value","checked","onChange"],N=o("div",{class:"my-2 border-t-2 border-dashed border-black-300"},null,-1),U=["value","checked","onChange"],D=g({__name:"MultiSelectFilter",props:{options:{},values:{}},emits:["update:values"],setup(c,{emit:l}){const t=c,a=l,e=C(""),p=x(()=>t.options.filter(u=>t.values.includes(u.id)?!1:u.name.toLocaleLowerCase().includes(e.value.toLocaleLowerCase()))),i=x(()=>t.options.filter(u=>t.values.includes(u.id)?u.name.toLocaleLowerCase().includes(e.value.toLocaleLowerCase()):!1)),y=u=>{const d=t.values,s=d.indexOf(u);s===-1?d.push(u):d.splice(s,1),a("update:values",d)},w=u=>t.values.includes(u);function V(){a("update:values",[])}return(u,d)=>(r(),n("div",null,[F(o("input",{"onUpdate:modelValue":d[0]||(d[0]=s=>e.value=s),class:"w-full h-full py-3 text-white rounded-md outline-none bg-black-300 border-2 border-black-300 focus:outline-none mb-4 sm:text-sm focus:ring-2 focus:ring-[#ff5e65] focus:border-transparent",type:"text",placeholder:"Search to filter..."},null,512),[[O,e.value]]),i.value.length?(r(),n(v,{key:0},[o("button",{type:"button",class:"w-full py-1 mb-2 text-red-800 rounded-md bg-red-900/20 hover:bg-red-900/30",onClick:d[1]||(d[1]=s=>V())}," Remove all selected "),(r(!0),n(v,null,h(i.value,s=>(r(),n("label",{key:s.id,class:"flex items-center gap-2 p-2 text-gray-300 rounded-md cursor-pointer hover:bg-black-300"},[o("input",{type:"checkbox",class:"w-4 h-4 text-[#ff5e65] border-gray-300 rounded focus:ring-[#ff5e65]",value:s.id,checked:w(s.id),onChange:L=>y(s.id)},null,40,B),k(" "+b(s.name),1)]))),128)),N],64)):f("",!0),(r(!0),n(v,null,h(p.value,s=>(r(),n("label",{key:s.id,class:"flex items-center gap-2 p-2 text-gray-300 rounded-md cursor-pointer hover:bg-black-300"},[o("input",{type:"checkbox",class:"w-4 h-4 text-[#ff5e65] border-gray-300 rounded focus:ring-[#ff5e65]",value:s.id,checked:w(s.id),onChange:L=>y(s.id)},null,40,U),k(" "+b(s.name),1)]))),128))]))}}),M={key:0},P=g({__name:"FiltersPanelControl",props:{prop:{},name:{},type:{},options:{},values:{}},emits:["close","update:values"],setup(c){return(l,t)=>l.type==="multi-select"?(r(),n("div",M,[m(D,{options:l.options,values:l.values,"onUpdate:values":t[0]||(t[0]=a=>l.$emit("update:values",{prop:l.prop,value:a}))},null,8,["options","values"])])):f("",!0)}}),R={class:"h-dvh md:border-l-2 border-black-300 md:w-80 xl:w-[30rem] flex flex-col absolute inset-0 md:relative bg-black-400"},T={class:"flex items-center w-full h-[69px] border-b-2 border-black-300 px-4 sticky top-0 text-black-100"},z=o("p",{class:"ml-4 truncate text-black-100"}," Filters ",-1),E={class:"h-[calc(100vh-69px)] py-4 pt-0 overflow-x-hidden"},q=["onClick"],A={class:"text-sm font-normal text-black-100"},H=g({__name:"FiltersPanel",props:{filters:{},filtersValues:{}},emits:["close","set-filters","remove-filters"],setup(c){const l=C({});return(t,a)=>(r(),n("div",R,[o("div",T,[o("button",{class:"disabled:cursor-wait",onClick:a[0]||(a[0]=e=>t.$emit("close"))},[m(_(S),{class:"w-6 h-6 text-white"})]),z]),o("div",E,[Object.keys(t.filtersValues).length>0?(r(),n("button",{key:0,type:"button",class:"w-full py-2 mb-2 font-semibold text-red-800 border-y-2 border-red-800/20 bg-red-900/20 hover:bg-red-900/30",onClick:a[1]||(a[1]=e=>t.$emit("remove-filters"))}," Remove all selected ")):f("",!0),o("div",null,[(r(!0),n(v,null,h(t.filters,e=>{var p;return r(),n("div",{key:e.prop},[o("button",{class:"sticky top-0 flex items-center justify-between w-full p-4 font-semibold text-gray-100 border-b-2 border-black-300 bg-black-400",onClick:i=>l.value[e.prop]=!l.value[e.prop]},[o("div",null,[k(b(e.name)+" ",1),o("span",A,"("+b((p=t.filtersValues[e.prop])!=null&&p.length?`${t.filtersValues[e.prop].length}/${e.options.length}`:e.options.length)+")",1)]),m(_(j),{class:$(["w-6 h-6 duration-300 text-black-200",{"rotate-180":l.value[e.prop]}])},null,8,["class"])],8,q),l.value[e.prop]?(r(),n("div",{key:0,class:$(["p-4",{"border-b-2 border-black-300":l.value}])},[m(P,{prop:e.prop,name:e.name,type:e.type,options:e.options,values:t.filtersValues[e.prop]??[],"onUpdate:values":a[2]||(a[2]=i=>t.$emit("set-filters",i))},null,8,["prop","name","type","options","values"])],2)):f("",!0)])}),128))])])]))}});export{H as _};
