import{c as d,_ as v}from"./ItemsList.vue_vue_type_script_setup_true_lang-C9qPGHHD.js";import{g as _,b as S,t as u,f as y,d as g,u as F,r as h,h as k,i as x,a as s,c as w,j as C,o as c}from"./index-Cxcui5gL.js";import{_ as I}from"./FiltersPanel.vue_vue_type_script_setup_true_lang-BFjzkm7P.js";class L{async query({search:o,filters:e}){const i=_();let n=await S.get(`https://raw.githubusercontent.com/ByMykel/CSGO-API/main/public/api/${i}/music_kits.json`).then(m=>m.data);const a=[{prop:"exclusive",name:u("filter_exclusive"),type:"multi-select",options:[{id:"true",name:u("common_yes")},{id:"false",name:u("common_no")}]}];return{items:y(n,o,e),filters:a}}}const $={class:"flex flex-row flex-1"},b=g({__name:"MusicKitsView",setup(f){const o=F(),e=d({query:new L().query})("music-kits")(),i=h(!1);function n(){o.deleteItem(),i.value=!0}function a(r){i.value=!1,o.getItemDetails(r)}function m({prop:r,value:t}){e.setFilters({prop:r,value:t}),e.fetch()}function p(){e.removeFilters(),e.fetch()}return(r,t)=>(c(),k("div",$,[x(v,{items:s(e).items,"items-count":s(e).itemsCount,loading:s(e).loading,search:s(e).search,"has-filters":s(e).filters.length>0,onSetQuery:t[0]||(t[0]=l=>s(e).setSearch(l)),onSelect:a,onLoadMore:t[1]||(t[1]=l=>s(e).loadMore()),onOpenFilters:t[2]||(t[2]=l=>n())},null,8,["items","items-count","loading","search","has-filters"]),i.value?(c(),w(I,{key:0,filters:s(e).filters,"filters-values":s(e).filtersValues,onSetFilters:m,onRemoveFilters:p,onClose:t[3]||(t[3]=l=>i.value=!1)},null,8,["filters","filters-values"])):C("",!0)]))}});export{b as default};
